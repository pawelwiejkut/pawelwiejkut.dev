[{"content":"Process of building authorization in BW with and without BPC is different. Reason is that user authorizaitons are enhanced by roles assigned to them in\nImportant SAP Note: https://launchpad.support.sap.com/#/notes/2366358\n","permalink":"https://pawelwiejkut.dev/posts/check-bpc-authorization/","summary":"Process of building authorization in BW with and without BPC is different. Reason is that user authorizaitons are enhanced by roles assigned to them in\nImportant SAP Note: https://launchpad.support.sap.com/#/notes/2366358","title":"How to trace BW BPC Authorization"},{"content":"Normally BW objects are transported to HANA using a transportation system, but what can be done when transport fails? When you have authorization to repat the import - it is still ok. You can go to Sap Transport Management system (transaction: STMS) and reimport. Thinks get much more complicated when you do not have the necessary rights. Let me share with you my notes about this process.\nAuthorization To manually deploy ABAP objects to SAP Hana databse you need a following authorization:\nAUTHORITY-CHECK OBJECT \u0026#39;S_DEVELOP\u0026#39; ID \u0026#39;ACTVT\u0026#39; FIELD \u0026#39;07\u0026#39; ID \u0026#39;OBJTYPE\u0026#39; FIELD \u0026#39;HOTA\u0026#39; ID \u0026#39;OBJNAME\u0026#39; DUMMY ID \u0026#39;DEVCLASS\u0026#39; DUMMY ID \u0026#39;P_GROUP\u0026#39; DUMMY. which is checked in all described in this article cases. This is because finally all executions comes through rddhanadeployment report. It contains method \u0026ldquo;execute_hana_deployment\u0026rdquo; used in all processes.\nHow to deploy If you want o deploy some object manually, then the easiest method is to use transaction SCTS_HTA_DEPLOY or report SCTS_HOTA_ORGANIZER. Lets consider a following scenario: Your transport with the Hana Views failed because of the issues with the source. You can\u0026rsquo;t see new calculation views on the database. After fixing the issues with the view sources, you can just run this transaction and reimport missing views manually.\nTechnical way If you can\u0026rsquo;t (or don\u0026rsquo;t want to) use transaction, then you have a few other ways of manual execution. Please check report RDDHANADEPLOYMENT which can be used to manually deploy all objects included into the ABAP transport.\nFor other alternatives check class CL_HOT_WB_ACCESS used for transports of HANA objects. Here method \u0026ldquo;ACTIVATE_OBJECTS\u0026rdquo; can be usefull. Most complicated possibility is to use class CL_CTS_HTA_API_FACTORY and run i.e. \u0026ldquo;CREATE_OBJECTS_BY_TROBJ_NAME\u0026rdquo; method. As a attribute it takes the object name in ABAP transport format, so with space (but not trimmed).\nMore informations about the deployment transaction can be found in the offical SAP documentation.If you want to read more about the ransport concepts, check also this blog.\n","permalink":"https://pawelwiejkut.dev/posts/manual-hana-abap-deployment/","summary":"Normally BW objects are transported to HANA using a transportation system, but what can be done when transport fails? When you have authorization to repat the import - it is still ok. You can go to Sap Transport Management system (transaction: STMS) and reimport. Thinks get much more complicated when you do not have the necessary rights. Let me share with you my notes about this process.\nAuthorization To manually deploy ABAP objects to SAP Hana databse you need a following authorization:","title":"Manual deployment from ABAP to SAP HANA"},{"content":"Cześć! To jest poradnik dla kompletnych laików, dlatego też tytuł jest bardzo skrótowy. Co bowiem oznacza instalacja SAP-a ? SAP (Systemanalyse und Programmentwicklung) jest nazwą firmy, powstałej w 1972 roku w Waldorfie zajmującej się tworzeniem oprogramowania. Zachęcam, żeby poczytać więcej o niej tutaj. Dziś chciałem pokazać Ci prosty sposób na instalację systemu SAP NetWeaver, który to umożliwi Ci naukę programowania w języku ABAP. Ten tutorial był kiedyś dostępny w wersji tekstowej, teraz dostępna jest duzo nowsza wersja wideo, która równiez jest częścią płatnego kursu abap dostępnego pod adresem https://saponit.pl/kurs-abap\nW skrócie, aby zainstalować SAPA potrzebujesz:\nOkoło 1,5 godziny wolnego czasu, Open Suse Linux, dostępny tutaj SAP Netveawer, dostępny tutaj Virtualbox, dostępny tutaj Instalujemy Virtualboxa, Instalujemy OpenSuse na Virtualboxie, Konfigurujemy OpenSuse, Instalujemy SAP na OpenSuse, Cały proces został szczegółowo przedstawiony, krok-po-korku w wideo poniżej. ","permalink":"https://pawelwiejkut.dev/posts/instalacja-sapa/","summary":"Cześć! To jest poradnik dla kompletnych laików, dlatego też tytuł jest bardzo skrótowy. Co bowiem oznacza instalacja SAP-a ? SAP (Systemanalyse und Programmentwicklung) jest nazwą firmy, powstałej w 1972 roku w Waldorfie zajmującej się tworzeniem oprogramowania. Zachęcam, żeby poczytać więcej o niej tutaj. Dziś chciałem pokazać Ci prosty sposób na instalację systemu SAP NetWeaver, który to umożliwi Ci naukę programowania w języku ABAP. Ten tutorial był kiedyś dostępny w wersji tekstowej, teraz dostępna jest duzo nowsza wersja wideo, która równiez jest częścią płatnego kursu abap dostępnego pod adresem https://saponit.","title":"Jak zainstalować SAPa żeby nauczyć się ABAPa?"},{"content":"If you want to login into HANA DB on ABAP1909 platform - in the example to create a calculation view, change something please use bellow details:\nFor the tentant database SYSTEMDB (i.e to make some administrative changes): user SYSTEM with the password Ldtf5432 For the single-container database HDB (i.e to make some development): user SAPA4H with the password Ldtf5432\nIn both cases, the instance number is 02. Example in Eclipse:\n","permalink":"https://pawelwiejkut.dev/posts/abap1909-hana-login-details/","summary":"If you want to login into HANA DB on ABAP1909 platform - in the example to create a calculation view, change something please use bellow details:\nFor the tentant database SYSTEMDB (i.e to make some administrative changes): user SYSTEM with the password Ldtf5432 For the single-container database HDB (i.e to make some development): user SAPA4H with the password Ldtf5432\nIn both cases, the instance number is 02. Example in Eclipse:","title":"ABAP1909 A4H HANA Login Details"},{"content":"ABAP 7.4 SAP introduced a lot of inline declarations. Nevertheless in BW world many developments are still written in very old syntax, where some of them are even not supported by the cloud version of ABAP (Steampunk). If you want to check out a modern ABAP statement that can be used in BW then this article is definitely for you. Every example contains a previous and a new version to compare. You can treat this post as a ABAP handbook/guide for BW developers. If you want to check more information how to write a clean ABAP code, check out check this website where is an official guide from SAP.\nMoving data from one internal table to another Move only required records from one table to another:\nPreviously: put a where into the LOOP LOOP AT lt_source INTO ls_source WHERE column_a = \u0026#39;value\u0026#39;. APPEND ls_source TO lt_result. ENDLOOP.\nNow: use a VALUE with WHERE lt_result = VALUE #( FOR ls_source IN lt_source WHERE ( column_a = \u0026#39;value\u0026#39; ) ( ls_source )).\nFill table with data Previously: declare a structure and assign separately all values in new lines. DATA: ls_source type ty_source, lt_result type t_ty_result. ls_source-column_a = \u0026#39;value\u0026#39;. ls_source-column_b = \u0026#39;value_b\u0026#39;. ls_source-column_c = \u0026#39;value_c\u0026#39;. APPEND ls_source to lt_result.\nNow: create a table and insert the values in the same time DATA(lt_result) = VALUE t_ty_result( ( column_a = \u0026#39;value\u0026#39; column_b = \u0026#39;value_b\u0026#39; column_c = \u0026#39;value_c\u0026#39; ) ).\nOR insert the value to the existing table DATA: lt_result type t_ty_result. INSERT VALUE #( column_a = \u0026#39;value\u0026#39; column_b = \u0026#39;value_b\u0026#39; column_c = \u0026#39;value_c\u0026#39; ) TO lt_result.\nRead data from the table Previously: using READ TABLE READ TABLE lt_result WITH KEY colum_a = \u0026#39;value_a\u0026#39; INTO DATA ls_result.\nNow: use function and catch exception TRY. ls_result = lt_result[ colum_a = \u0026#39;value_a\u0026#39; ]. CATCH cx_sy_itab_line_not_found. ENDTRY.\nPass corresponding data between internal tables Previously: MOVE-CORRESPONDING lt_source to lt_result.\nNow: lt_result = CORRESPONDING #( lt_source ).\nIt can be also nicely used in ABAP OO:\ncl_test_class-\u0026gt;method(EXPORTING iv_source = CORRESPONDING #(lt_result)). Union of internal tables Previously: LOOP AT lt_table ASSIGING FIELD-SYMBOL(\u0026lt;ls_table\u0026gt;). APPEND \u0026lt;ls_table\u0026gt; TO lt_result. ENDLOOP.\nNow: lt_result = corresponding #( base ( lt_result ) lt_table ).\nGet number of lines in the table Previously: DESCRIBE lt_result INTO lv_number_of_entries.\nNow: v_number_of_entries = lines( lt_result ).\nConcatenate strings Previously: CONCATENATE lv_string_x \u0026#39;aaa\u0026#39; lv_string_y INTO DATA(lv_result).\nNow: DATA(lv_result) = |{ lv_string_x } \u0026#39;aaa\u0026#39; { lv_string_y }|.\nUpper case Previously: TRANSLATE lv_result TO UPPER-CASE.\nNow: lv_result = to_upper( lv_result ).\nVery similar approach also for: More\nfunction desciption cmax, cmin character-like extreme value functions condense condense function concat_lines_of concatenation function escape escape function insert insert function match match function repeat repeat function replace replace function reverse reverse function segment segment function shift_left, shift_right shift functions substring, substring substring functions to_upper, to_lower, to_mixed, from_mixed case functions translate translate function More\nTable lines Previously: DESCRIBE lt_table LINES lv_table_lines.\nNow: lv_table_lines = lines( lt_lines ).\nMore\nDynamic variable declarations Previously: Declare separately variable and assign value to it. DATA : lv_integer type i. lv_integer = 1.\nNow: Declare and assign value in one line. DATA(lv_integer) = 1.\nIt can be also used in the context of the ABAP OO.Note that function modules are not supported.\nPreviously: You have to declare separately variable lv_integer and then use it in the method. DATA : lv_integer type i. cl_test_class-\u0026gt;method( IMPORTING ev_integer = lv_integer ).\nNow: You can declare lv_integer directly after method IMPORTING, EXPORTING or RETURNING. cl_test_class-\u0026gt;method( IMPORTING ev_integer = DATA(lv_integer) ).\nCreate a new object Previously: Declare data reference and then create an object DATA : lro_class type cl_test_class. CREATE OBJECT lro_class EXPORTING iv_integer = 1.\nNow: Create an object without the data declaration by the NEW parameter DATA(lro_class) = NEW cl_test_class( iv_integer = 1 ).\n","permalink":"https://pawelwiejkut.dev/posts/abap-trfn-bw/","summary":"ABAP 7.4 SAP introduced a lot of inline declarations. Nevertheless in BW world many developments are still written in very old syntax, where some of them are even not supported by the cloud version of ABAP (Steampunk). If you want to check out a modern ABAP statement that can be used in BW then this article is definitely for you. Every example contains a previous and a new version to compare.","title":"Useful modern ABAP statements for BW transformations"},{"content":"Creating ADSO from ABAP can be easily achieved by cl_rso_adso_api=\u0026gt;create DATA(ls_flags) = VALUE cl_rso_adso_api=\u0026gt;tn_s_adsoflags( direct_update = abap_true ). TRY. cl_rso_adso_api=\u0026gt;create( EXPORTING i_adsonm = \u0026#34;Name of the ADSO i_infoarea = \u0026#34;Infoarea name i_s_adsoflags = ls_flags i_t_object = \u0026#34;Table with all fields i_t_dimension = \u0026#34;Dimension i_t_key = \u0026#34;String table with key IMPORTING e_t_msg = DATA(lt_msg) ). CATCH cx_rs_all_msg INTO DATA(lr_msg). cl_demo_output=\u0026gt;display( EXPORTING data = lr_msg-\u0026gt;get_longtext( ) name = \u0026#39;Error\u0026#39; ). ENDTRY.\nFull usage examples can be found here\n","permalink":"https://pawelwiejkut.dev/posts/create-adso-abap/","summary":"Creating ADSO from ABAP can be easily achieved by cl_rso_adso_api=\u0026gt;create DATA(ls_flags) = VALUE cl_rso_adso_api=\u0026gt;tn_s_adsoflags( direct_update = abap_true ). TRY. cl_rso_adso_api=\u0026gt;create( EXPORTING i_adsonm = \u0026#34;Name of the ADSO i_infoarea = \u0026#34;Infoarea name i_s_adsoflags = ls_flags i_t_object = \u0026#34;Table with all fields i_t_dimension = \u0026#34;Dimension i_t_key = \u0026#34;String table with key IMPORTING e_t_msg = DATA(lt_msg) ). CATCH cx_rs_all_msg INTO DATA(lr_msg). cl_demo_output=\u0026gt;display( EXPORTING data = lr_msg-\u0026gt;get_longtext( ) name = \u0026#39;Error\u0026#39; ). ENDTRY.\nFull usage examples can be found here","title":"Create ADSO from ABAP"},{"content":"If you are forced to change transport description after release, you have to consider following changes:\nUse RDDIT076 to change the description - if not possible, you have to find a way to edit E07T and E070.\nChange description in TMSBUFTXT to correct display of shorttext in STMS.\n","permalink":"https://pawelwiejkut.dev/posts/change-transport-desc/","summary":"If you are forced to change transport description after release, you have to consider following changes:\nUse RDDIT076 to change the description - if not possible, you have to find a way to edit E07T and E070.\nChange description in TMSBUFTXT to correct display of shorttext in STMS.","title":"Change transport description after release"},{"content":"If you have in your BW regular flat-file data load in your BW system, you probably afflict issues with the wrong data provided by the user. The scenario of this issue can be very simple. It’s enough that the user provides an invalid unsupported charter and during activation, you will get a similar issue:\nOr other issues like:\nValue \u0026lsquo;#’ (hex. \u0026lsquo;2300′) of characteristic contains invalid characters Error when assigning SID: Action VAL_SID_CONVERT InfoObject (hex. \u0026lsquo;500072007A0065006C006500770020006E0061002000720061′) of characteristic contains inva This issue also affects me in the last time, and during my research, and found several options for removal. Most of them were based on a simple check like is your charter on the list:\n!”%\u0026amp;”()*+,-./:;\u0026lt;=\u0026gt;?_0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\nAnd this is, of course, true and corresponds to note 173241. But what if you additionally want to check charters provided in the transaction RSKC?\nThe best way to achieve this is the usage of good FM RSKC_CHAVL_OF_IOBJ_CHECK, which checks charter correctness according to the info object. But by default, this is not a dynamic development. I want to have some dynamic code, which I can paste in every transformation after Datasource and make necessary checks. That’s why I decided to write my own implementation which can handle this issue.\nMy implementation Now all I need to do is add following code like below to the end routine ( consider a move of reference declaration to proper place ):\nDATA(lobj_check) = NEW zcl_bw_validate_special( ir_ref = REF #( result_package ) ).\nlobj_check-\u0026gt;validate( EXPORTING it_tab = result_package it_monitor = monitor IMPORTING et_tab = result_package et_monitor = monitor ). Now any unsupported charter will be simply replaced by nothing. Download You can test this by yourself by getting code from my GitHub page:\nhttps://github.com/pawelwiejkut/bw_remove_charters\nOf course please feel free to contribute and create pull requests, or open issues if needed. In the case of AMDP routine, consider usage https://blogs.sap.com/2017/06/15/removing-invalid-and-non-printable-characters-in-hana-based-bw-transformation/.\nThanks for your time and have a great day.\n","permalink":"https://pawelwiejkut.dev/posts/bw-remove-charters/","summary":"If you have in your BW regular flat-file data load in your BW system, you probably afflict issues with the wrong data provided by the user. The scenario of this issue can be very simple. It’s enough that the user provides an invalid unsupported charter and during activation, you will get a similar issue:\nOr other issues like:\nValue \u0026lsquo;#’ (hex. \u0026lsquo;2300′) of characteristic contains invalid characters Error when assigning SID: Action VAL_SID_CONVERT InfoObject (hex.","title":"Remove invalid charters in your BW transformation"},{"content":"Sometimes we are forced to change some database entries. There are many reasons like a new s-note from SAP or incorrect values in the technical table. Every SAP table can be changed via SE16 or SE11 transaction - all you need to have is a debug with change role assigned to your user. In this article you can find youtube video, and bellow is detailed step by step instruction.\nVideo tutorial Step by step instruction how to change entry in SE16 1. We have to login into the system and go to the SE16 or SE11 transaction. Put the table name, and display the required result. When you see the record which you want to edit, please select it and put **/hs** in the transaction textbox. Click on the Display icon in the upper panel. Normally you should see a detailed view, but now the debugger will run instead. This step will not work if you do not have the debug authorization. In the debugger window, please click on Breakpoints-\u0026gt; Breakpoint at-\u0026gt; Breakpoint at Subroutine. New window should open. Click on the FORM tab, and put SAPLSETB in the program and SET_STATUS_VAL in Fmla. No please press F8 - program should stop on refresh_exclude_tab.\nPlease double click on the code variable, it should appear in the right bottom corner. Now you have to click on the edit icon and change the variable value from SHOW to EDIT. Please press F8 to continue executing. You should be able to change the values of your entry without any restriction. Please be informed that in the EDIT case you can\u0026rsquo;t add entires. To insert new line into the table, please use ANVO. Before you save the entry, please double check the consequences. Editing the tables directly on production is not the best idea.\n","permalink":"https://pawelwiejkut.dev/posts/se16-se11-change/","summary":"Sometimes we are forced to change some database entries. There are many reasons like a new s-note from SAP or incorrect values in the technical table. Every SAP table can be changed via SE16 or SE11 transaction - all you need to have is a debug with change role assigned to your user. In this article you can find youtube video, and bellow is detailed step by step instruction.\nVideo tutorial Step by step instruction how to change entry in SE16 1.","title":"How to change any entries in the database in SE16 or SE11"},{"content":"BW contains many standard formulas which can be used in TRFN\u0026rsquo;s and RSPC\u0026rsquo;s. The main issue is that sometimes you need to know default values/data types.\nAll available formulas can be checked in class CL_RSAR_FUNCTION. Bellow, you can find a table with explained importing and returning parameters.\nFormula / Method Name Description Importing\nTypes\n(Example) Returning\nTypes\n(Example\nresult) ABORT_PACKAGE Returns exception cx_rfso_abort_package to stop\nprocessing N/A N/A ADD_TO_DATE Add days to the specified date DATS,INT\n(20201201,1) DATS\n20201202 ALPHA Add leading zeros base on\nthe provided length STRING,INT (123,5) STRING\n00123 CALMONTH_FISCPER Convert calendar month to the fiscal period CONDENSE Trim text (left site) STRING\n( 43) STRING\n\u0026lsquo;43\u0026rsquo; CONDENSE_NO_GAPS Trim text + remove spaces inside STRING\n( 43 55 33) STRING\n\u0026lsquo;435533\u0026rsquo; DATECONV Change date format to internal CHAR10,CHAR10,CHAR1\n(12/07/1992,\nMM/DD/YYYY,/) DATS\n19921207 DATE_DIFF Calculate differences between dates DATS,DATS\n(20211212,20211215) INT\n3 DATE_FISCPER DATE_FISCPER3 DATE_FISCYEAR DATE_HALFYEAR Check if the date is in the first or second part of the year DATS\n(20210212) NUMC\n1 DATE_MONTH Get the calendar month from the given date DATS\n(20201201) NUMC\n202012 DATE_MONTH2 Get the month number from the given date DATS\n(20201201) NUMC\n12 DATE_QUATER Get the quarter from the given date DATS\n(20210909) NUMC\n20213 DATE_QUATER1 Get the quarter number from the given date DATS\n(20210909) NUMC\n3 DATE_WEEK Get the week from the given date DATS\n(20210731) NUMC\n202130 DATE_WEEKDAY Get the day from the given date DATS\n(20211220) STRING\nMonday DATE_WEEKDAY1 Get the day number from given date DATS\n(20211220) NUMC\n1\nmore DATE_YEAR Get the year from the given date DATS\n(20210101) NUMC\n4 FIRST_WORKINGDAY_MONTH Get the first working day from the given date and calendar DATS,CHAR\n(20210425,01) DATS\n20210401 FIRST_WORKINGDAY_YEAR Get the first working day of the year\nand calendar DATS,CHAR\n(20210525,01) DATS\n20210104 FISCPER_CALMONTH FISCPER_FISCPER3 FISCPER_FISCYEAR IF Check condition - If I_Arg1 = X then Arg2 else Arg3 BOOLEAN,ANY,ANY\n(X,1,10) ANY\n1 IS_INITIAL Check if the string is initial ANY\n(\u0026rsquo;') BOOLEAN\nX IS_INTEGER Check if the string contains only integers STRING\n(9) BOOLEAN\nX LAST_WORKINGDAY_MONTH Get the last working day from the given date DATS,CHAR\n(20210101,01) DATS\n20210129 LAST_WORKINGDAY_YEAR Get the last working day of the year from the date given DATS,CHAR\n(20210101,01) DATS\n20211231 LEFT Get the first X characters from the string INT,STRING\n(4,123456) STRING\n1234 LTRIM Trim text (left site), by given regexp STRING,STRING\n( ABCD,\\s) STRING\n\u0026lsquo;ABCD\u0026rsquo; L_TRIM Trim text (left site) STRING\n( ABCD) STRING\n\u0026lsquo;ABCD\u0026rsquo; MAPPING Looks like deprecated - almost all code inside commented out\nResult = Arg4 MONTH2_HALFYEAR Check if the month is in the first or second half of the year ANY\n(202112) or (11) NUMC\n2 MONTH2_QUARTER1 Check the quarter of the month ANY\n(202208) or (08) NUMC\n3 MONTH_HALFYEAR Check if the month is in the first or second half of the year. ANY\n(202112) NUMC\n2 MONTH2_QUARTER1 Get the quarter based on the given date ANY\n(202106) or (06) NUMC\n2 MONTH_HALFYEAR Check is given month in first or second half of the year ANY\n(20211) NUMC\n2 MONTH_QUARTER Check the quarter of the given month ANY\n(202208) NUMC\n202003 MONTH_QUARTER1 Check the quarter of the given month ANY\n(202208) NUMC\n3 MONTH_YEAR Check the month of the given date ANY\n(202111) or (20211125) NUMC\n2021 NEGATIVE Return number with negative sing F\n(1) F\n-1 QUARTER1_HALFYEAR Check if given quarter is in first or\nsecond half of the year ANY\n(202101) NUMC\n1 QUARTER_HALFYEAR Check if given quarter is in first or second half of the year ANY\n(20214) NUMC\n2 QUARTER_QUARTER1 Get the quarter from the given quarter ANY\n(20214) NUMC\n4 QUARTER_YEAR Get the year from the given quarter ANY\n(20211) NUMC\n2021 REPLACE_ALL Replace selected charter to different one C,C,STRING\n(4,9,A4B4C4) STRING\nA9B9C9 REPLACE_FIRST Replace first occurrences of the charters to different one C,C,STRING\n(4,9,A4B4C4) STRING\nA9B4C4 RIGHT Get first few numbers from right I,STRING\n(4,123456) STRING\n3456 RTRIM Trim white charters from right based on provided regexp STRING,STRING\n(ABC,\\s) STRING\n\u0026lsquo;ABC\u0026rsquo; R_TRIM ? C\n(D) STRING\nD SHIFT_LEFT Remove first few charters from the left site\nof the string more I,STRING\n(2,abcdef) STRING\ncdef SHIFT_RIGHT Add few\ncharters from the left site\nof the string more I,STRING\n(2,abcdef) STRING\n\u0026rsquo; abcdef' SKIP_RECORD Raise CX_RSFO_SKIP_RECORD exception to skip processing of current record N/A N/A SKIP_RECORD_AS_ERROR Raise CX_RSFO_SKIP_RECORD\n_AS_ERROR exception to skip current record processing with error N/A N/A STR_LEN Returns the length of the string STRING\nabcdef INT\n6 UNIT_CONVERSION Convert units UNIT,UNIT,ANY\n(TO,KG,100) F\n100000 UTC_LONG_TO_\nLOCAL_DATE Convert timestamp based on selected timezone to get the date DEC,CHAR\n(20161030053000,EST) DATS\n20161030 UTC_LONG_TO_\nLOCAL_TIME Convert timestamp based on selected timezone to get the hour DEC,CHAR\n(20161030053000,EST) F\n5.40 UTC_SHORT_TO_\nLOCAL_DATE Convert timestamp based on selected timezone to get the date (same code like for long version) DEC,CHAR\n(20161030053000,EST) DATS\n20161030 UTC_SHORT_TO_\nLOCAL_TIME Convert timestamp based on selected timezone to get the hour DEC,CHAR\n(20161030053000,EST) TIMS\n013000 WEEK_FIRST_DAY Get the first day of the week NUMC\n(202104) DATS\n20210125 WORKINGDAY_MONTH Get the number of working days based on month DATS,CHAR,CHAR\n(20211220,01,+) INT\n14 WORKINGDAY_YEAR Get the number of working day base on\nyear DATS,CHAR,CHAR\n(20211220,01,+) INT\n243 Explanations: DATE_WEEKDAY1(): 1 - Monday 2 - Tuesday 3 - Wednesday 4 - Thursday 5 - Friday 6 - Saturday 7 - Sunday If the result of functions with names ending at \u0026lsquo;2\u0026rsquo; is the same, then probably the version with 2 at the end can handle both inputs (with a year or without). MONTH2_QUARTER1 in the example is checking both month and a year + month :\nIF strlen( i_month ) EQ 6. l_month = i_month+4(2). ELSEIF strlen( i_month ) EQ 2. l_month = i_month. ELSE. RAISE EXCEPTION TYPE cx_foev_error_in_function. ENDIF. MONTH_QUARTER1 is checking only the year + month like 202106\nl_check = i_month+4(2). IF l_check \u0026lt; \u0026#39;01\u0026#39; OR l_check \u0026gt; \u0026#39;12\u0026#39;. RAISE EXCEPTION TYPE cx_foev_error_in_function. ELSE. ","permalink":"https://pawelwiejkut.dev/posts/bw-formula-parameters/","summary":"BW contains many standard formulas which can be used in TRFN\u0026rsquo;s and RSPC\u0026rsquo;s. The main issue is that sometimes you need to know default values/data types.\nAll available formulas can be checked in class CL_RSAR_FUNCTION. Bellow, you can find a table with explained importing and returning parameters.\nFormula / Method Name Description Importing\nTypes\n(Example) Returning\nTypes\n(Example\nresult) ABORT_PACKAGE Returns exception cx_rfso_abort_package to stop\nprocessing N/A N/A ADD_TO_DATE Add days to the specified date DATS,INT","title":"BW formula parameters"},{"content":" Let\u0026rsquo;s start by creating the popup Rename new window Definitely we should arrange this new space. Start with a new List Box Add tree new buttons: UP, DOWN, Save and Close Change style on List Box to add borders Rename new elements Create a new button on the Canvas Create a script variable Change name and set as array Create onClick event for the new - Change Layout button // Get current dimensions var currentDimensions = Table_Games_Sales.getDimensionsOnRows(); // Assign values to the global variable ScriptVariable_Dimensions_Values = Table_Games_Sales.getDimensionsOnRows(); // Clear the current list ListBox_Dimensions_Order.removeAllItems(); // Add current dimensions to the list for ( var i = 0; i \u0026lt; currentDimensions.length; i++ ){ ListBox_Dimensions_Order.addItem(currentDimensions[i]); } // Open popup Popup_Dimensions_Order.open(); Add code for Button_Save_And_close - onClick // Get all current dimensions var allDimensions = Table_Games_Sales.getDimensionsOnRows(); // Delete all dimensions for (var i = 0; i \u0026lt; allDimensions.length; i++){ Table_Games_Sales.removeDimension(allDimensions[i]); } // Set new dimensions for (var r = 0; r \u0026lt; ScriptVariable_Dimensions_Values.length; r++){ Table_Games_Sales.addDimensionToRows(ScriptVariable_Dimensions_Values[r]); } // Close popup Popup_Dimensions_Order.close(); Add code for Button_Down - onClick // Get all selected Keys var selectedValue = ListBox_Dimensions_Order.getSelectedKey(); // Change the order on the list and update List Box if (selectedValue){ var valueIndex = ScriptVariable_Dimensions_Values.indexOf(selectedValue); ScriptVariable_Dimensions_Values.splice(valueIndex,1); ScriptVariable_Dimensions_Values.splice( valueIndex + 1,0, selectedValue ); ListBox_Dimensions_Order.removeAllItems(); for ( var i = 0; i \u0026lt; ScriptVariable_Dimensions_Values.length; i++){ ListBox_Dimensions_Order.addItem(ScriptVariable_Dimensions_Values[i]); } } Add code for Button_Up - onClick // Get all selected Keys var selectedValue = ListBox_Dimensions_Order.getSelectedKey(); // Change the order on the list and update List Box if (selectedValue){ var valueIndex = ScriptVariable_Dimensions_Values.indexOf(selectedValue); ScriptVariable_Dimensions_Values.splice(valueIndex,1); ScriptVariable_Dimensions_Values.splice( valueIndex - 1,0, selectedValue ); ListBox_Dimensions_Order.removeAllItems(); for ( var i = 0; i \u0026lt; ScriptVariable_Dimensions_Values.length; i++){ ListBox_Dimensions_Order.addItem(ScriptVariable_Dimensions_Values[i]); } } At the end we have a complete and working solution. Congratulations 🍾 ! ","permalink":"https://pawelwiejkut.dev/posts/sac-popup-order/","summary":"Let\u0026rsquo;s start by creating the popup Rename new window Definitely we should arrange this new space. Start with a new List Box Add tree new buttons: UP, DOWN, Save and Close Change style on List Box to add borders Rename new elements Create a new button on the Canvas Create a script variable Change name and set as array Create onClick event for the new - Change Layout button // Get current dimensions var currentDimensions = Table_Games_Sales.","title":"Create a popup to change dimensions order"},{"content":" We need a CheckBox, it can be added from the toolbar Let\u0026rsquo;s change the background color of the CheckboxGroup. To do this, please click on the brush icon, bucket icon and then on more Change color to hex 1f303f Next change the font color Set new color to white, hex ffffff Remove the values from the Checkbox Rename checkbox to CheckboxGroup_Dimensions, bu click on the keys icon Add additional code to the Application - onInitialization // Get all dimensions var dimensions = Table_Games_Sales.getDataSource().getDimensions(); //Loop by dimensions and fill Checkbox for ( var y = 0; y \u0026lt; dimensions.length; y++ ){ CheckboxGroup_Dimensions.addItem(dimensions[y].id,dimensions[y].description); } Last but not least - we need a button Rename the button Let\u0026rsquo;s also add a code to handle it // Get current list of dimensions to remove it var currentDimensionsSet= Table_Games_Sales.getDimensionsOnRows(); // Get selected fields from CheckBox var selectedDimensions = CheckboxGroup_Dimensions.getSelectedKeys(); // Delete all existing dimensions for (var r = 0; r \u0026lt; currentDimensionsSet.length; r++){ Table_Games_Sales.removeDimension(currentDimensionsSet[r]); } // Add all new dimensions for (var i = 0; i \u0026lt; selectedDimensions.length; i++){ Table_Games_Sales.addDimensionToRows(selectedDimensions[i]); } At the end-user should be able to pick up interesting dimensions by themself ","permalink":"https://pawelwiejkut.dev/posts/sac-button-checkbox/","summary":"We need a CheckBox, it can be added from the toolbar Let\u0026rsquo;s change the background color of the CheckboxGroup. To do this, please click on the brush icon, bucket icon and then on more Change color to hex 1f303f Next change the font color Set new color to white, hex ffffff Remove the values from the Checkbox Rename checkbox to CheckboxGroup_Dimensions, bu click on the keys icon Add additional code to the Application - onInitialization // Get all dimensions var dimensions = Table_Games_Sales.","title":"Select dimensions by CheckBox and Button"},{"content":"Button To clean the filter we need a button. Let\u0026rsquo;s get one from the plus in the toolbar Put the button near the Year dropdown and rename it Go to the Button_Clean_Filters - onClick Put the following code // Remove all filters from the model Table_Games_Sales.getDataSource().removeDimensionFilter(\u0026#34;Name\u0026#34;); Table_Games_Sales.getDataSource().removeDimensionFilter(\u0026#34;Publisher\u0026#34;); Table_Games_Sales.getDataSource().removeDimensionFilter(\u0026#34;Year\u0026#34;); //Set all dropdowns selection to empty Dropdown_Name.setSelectedKey(\u0026#39;\u0026#39;); Dropdown_Publisher.setSelectedKey(\u0026#39;\u0026#39;); Dropdown_Year.setSelectedKey(\u0026#39;\u0026#39;); Button should now work properly Design Please download image dataset from here\nInsert images using the plus in the toolbar\nPut images together, and move existing elements to align together After that it should look like on the image bellow\nAdd a new chart in the right corner Change the type to numeric point Choose the measure Rename the measure Hide chart title Add two missing images: Mario and coin Create a linked analysis between table and chart Click on Only Selected Widget and click Select widget button Select Chart_1 Add account to the dimensions on the table Click on Manage Filter Select Global Sales At the end everything should works and looks fine 😏 ","permalink":"https://pawelwiejkut.dev/posts/sac-app-design/","summary":"Button To clean the filter we need a button. Let\u0026rsquo;s get one from the plus in the toolbar Put the button near the Year dropdown and rename it Go to the Button_Clean_Filters - onClick Put the following code // Remove all filters from the model Table_Games_Sales.getDataSource().removeDimensionFilter(\u0026#34;Name\u0026#34;); Table_Games_Sales.getDataSource().removeDimensionFilter(\u0026#34;Publisher\u0026#34;); Table_Games_Sales.getDataSource().removeDimensionFilter(\u0026#34;Year\u0026#34;); //Set all dropdowns selection to empty Dropdown_Name.setSelectedKey(\u0026#39;\u0026#39;); Dropdown_Publisher.setSelectedKey(\u0026#39;\u0026#39;); Dropdown_Year.setSelectedKey(\u0026#39;\u0026#39;); Button should now work properly Design Please download image dataset from here\nInsert images using the plus in the toolbar","title":"SAC APP Design \u0026 clean the filter button"},{"content":"In this part of the tutorial, we are focusing on creating a cascade filter on the dropdown in SAC APP. Cascade means that filters on the dashboard will depend on each other. In the example, if you pick up the publisher name Nintendo then in the games list (Name) you should see only games that belong to Nintendo and no more others. To achieve this, we have to redesign our app a bit.\nIf you want to have a big picture, please check the rest of the tutorials. Pervious topic - Create and fill a dropdown in SAC APP Next part - SAC APP Design \u0026amp; clean the filter button The complete list is available here.\nLet\u0026rsquo;s put two new dropdowns and three new texts. They will handle filters for Name (games list) and Year (when game was published).To add new elements please use bottom SAC panel. We have to resize the existing table, and add more space at the top and align texts. It is necessary to fits all elements on the dashboard. Check the image below for layout recommendations. To change the positions of the particular elements, simply click on it and drag and drop to the desired place. Rename all elements accordingly. In the example, we are using a naming convention like Objecttype_Objectname. Keeping the one schema names is important, it allows us to easily find and access them. Please be informed that If your screen is too small to work with SAC, you can resize the page in Chrome settings. I recommend changing this setting, especially if you have a small screen with high resolution. To achieve this please click on the three dots icon in the right upper corner of Chrome, and change the zoom. Put code to fill dropdowns into Canvas - onInitialization. This piece of javascript will be responsible for filling our new dropdowns when the app starts. Our cascading filters are not working at this time, and we want to load all values. All magic starts when user choose one particular Publisher or Name. //Get all values from the table var resultSet = Table_Games_Sales.getDataSource().getResultSet(); // Get all available years (as it is not included into table) var yearSet = Table_Games_Sales.getDataSource().getMembers(\u0026#34;Year\u0026#34;); //Loop at result set and fill Name and Publisher as they both are available in the table for ( var i = 0; i\u0026lt; resultSet.length; i++ ){\tDropdown_Name.addItem(resultSet[i][\u0026#34;Name\u0026#34;].id,resultSet[i][\u0026#34;Name\u0026#34;].description);\tDropdown_Publisher.addItem(resultSet[i][\u0026#34;Publisher\u0026#34;].id,resultSet[i][\u0026#34;Publisher\u0026#34;].description);\t} //Loop at year separately, and fill dropdown for ( var z = 0; z\u0026lt; yearSet.length; z++ ){\tDropdown_Year.addItem(yearSet[z].id,yearSet[z].description); } Put code into the Dropdown_Publisher - onSelect. Here we need to first clean all the combined filters name and publisher on our table Table_Games_Sales. The next step is to fill Name only with corresponding values (like for Sega we want to display only belong games - names). //Remove existing Name filter form the table Table_Games_Sales.getDataSource().removeDimensionFilter(\u0026#34;Name\u0026#34;); //Remove existing Publisher filter form the table Table_Games_Sales.getDataSource().removeDimensionFilter(\u0026#34;Publisher\u0026#34;); //Get all values from the table var resultSet = Table_Games_Sales.getDataSource().getResultSet(); // Get Publisher selected by user var selectedPublisher = Dropdown_Publisher.getSelectedKey(); //Remove all items in the Name dropdown Dropdown_Name.removeAllItems(); // Fill only Names relevant to chosen Publisher for ( var i = 0; i\u0026lt; resultSet.length; i++ ){\tif ( resultSet[i][\u0026#34;Publisher\u0026#34;].id === selectedPublisher ){ Dropdown_Name.addItem(resultSet[i][\u0026#34;Name\u0026#34;].id,resultSet[i][\u0026#34;Name\u0026#34;].description); } } //Put the publisher dropdown value as a filter into table Table_Games_Sales.getDataSource().setDimensionFilter(\u0026#34;Publisher\u0026#34;,selectedPublisher); Run our application. Now Publisher and Name should work pretty well. We can see that the list is filled only by corresponding values.\nAdd missing code to the Year - onSelect. Here we just read a value from the dropdown and put it as a table filter. The year is not considered to be a cascading filter in our example, never the less we need it to be available. var selectedYear = Dropdown_Year.getSelectedKey(); Table_Games_Sales.getDataSource().setDimensionFilter(\u0026#34;Year\u0026#34;,selectedYear); Run the app once again. As you see, all filters are working fine now. Cascade filtering between the name and publisher should also behave as expected. If everything is working as expected, please check out next tutorial from SAC series SAC APP Design \u0026amp; clean the filter button.\nWhen the initial app is ready, it is time to add some images and clean the filter button. See you there :)\n","permalink":"https://pawelwiejkut.dev/posts/sac-app-dropdown-cascade/","summary":"In this part of the tutorial, we are focusing on creating a cascade filter on the dropdown in SAC APP. Cascade means that filters on the dashboard will depend on each other. In the example, if you pick up the publisher name Nintendo then in the games list (Name) you should see only games that belong to Nintendo and no more others. To achieve this, we have to redesign our app a bit.","title":"Cascade filtering in SAC"},{"content":" Firstly we have to move our table a few lines down. This can be done by moving the mouse between the table and toolbar and drag and dropping when the cursor changes the icon: Click on the plus icon on the toolbar Select Dropdown form the list Lets rename the Table by click on tree dots -\u0026gt; Rename, and set new name to Table_Games_Sales Same with Dropdown, and put new name Dropdown_Name\nFind the fx icon near to the Canvas in the left panel and click on onInitialization This will move us to the code editor where the party begins 💃 🕺 but no worries, JavaScript in the SAC is very developer-friendly and restricted. It is very easy to learn - and you can hear this from me, an ABAP fanboy. If you want to learn more about JS in SAC, please check out the handbook here (search for Developer Handbook)\nFirstly we have to create a variable which will hold the content from our table\nvar resultSet = Table_Games_Sales.getDataSource().getResultSet(); Then we have to loop by the resultSet and assign all Names into our dropdown for ( var i = 0; i\u0026lt; resultSet.length; i++ ){\tDropdown_Name.addItem(resultSet[i][\u0026#34;Name\u0026#34;].id,resultSet[i][\u0026#34;Name\u0026#34;].description);\t} If you want to fill the dropdown by data not included into your table (Table_Games_Sales) you should use getMembers() var resultSet = Table_Games_Sales.getDataSource().getMembers(\u0026#34;Name\u0026#34;); for ( var i = 0; i\u0026lt; resultSet.length; i++ ){\tDropdown_Name.addItem(resultSet[i].id,resultSet[i].description);\t}\nNevertheless in this example will will stay with getResultSet(), because Name is available in our table and according to the handbook this is better solution because of the performance Ate the end our code should look like this Now it is a time to save and run our app As you can see dropdown looks good, but it ends at \u0026ldquo;A\u0026rdquo; - this is because of the limitation. Our file contain much more games. Easies way to fix this is to create a additional filter on Publisher and make them cascading, but this will be described in the next post. Dropdown is filled, bu it is not working - not filtering any values in the table. To enable this, lest go back to the editor, and click on fx near to Dropdown_Name There is only one event - onSelect. In the code we need to get the selection from dropdown and set up a filter. Lets assign key to the new variable, and then use setDimentionFilter to put a filter. var selectedName = Dropdown_Name.getSelectedKey(); Table_Games_Sales.getDataSource().setDimensionFilter(\u0026#34;Name\u0026#34;,selectedName); Please check your app. Dropdown Filter should work fine now. I have a bit different layout but no worries. I will explain how to do it step by step in my nex post. ","permalink":"https://pawelwiejkut.dev/posts/sac-app-dropdown/","summary":"Firstly we have to move our table a few lines down. This can be done by moving the mouse between the table and toolbar and drag and dropping when the cursor changes the icon: Click on the plus icon on the toolbar Select Dropdown form the list Lets rename the Table by click on tree dots -\u0026gt; Rename, and set new name to Table_Games_Sales Same with Dropdown, and put new name Dropdown_Name","title":"Create and fill a dropdown in SAC APP"},{"content":"We have a model so now it is time to build a SAC APP.\nGo to applications, click on Create Application Click on the table from at the toolbar Select a existing model Click on model that we created in the previous post Delete columns Add Measure/Dimension to rows Select Name and Publisher Quit panel Save application Click on Run Result should be similar to the image bellow ","permalink":"https://pawelwiejkut.dev/posts/sac-create-app/","summary":"We have a model so now it is time to build a SAC APP.\nGo to applications, click on Create Application Click on the table from at the toolbar Select a existing model Click on model that we created in the previous post Delete columns Add Measure/Dimension to rows Select Name and Publisher Quit panel Save application Click on Run Result should be similar to the image bellow ","title":"Simple APP on SAC"},{"content":"Let\u0026rsquo;s build a very simple SAC model using kaggle data on video game sales.\nTo create a model on SAC, firstly you have to login into your account (please search for trail if necessary). Next click on files, plus icon, and select model. Now, please click on From a CSV or Excel File Select Source File Download source file from Kaggle.\nFind vgsales.csv and load into SAC\nClick on import This model is very simple so we don\u0026rsquo;t have to change anything. Just click on Create Model Save data model It is done 😎 Now you can use it in the next steps or your own project. Please notice that in the case of more complex datasets before saving you would have to clean the data, assign keys and descriptions or provide additional calculations.\n","permalink":"https://pawelwiejkut.dev/posts/sac-model/","summary":"Let\u0026rsquo;s build a very simple SAC model using kaggle data on video game sales.\nTo create a model on SAC, firstly you have to login into your account (please search for trail if necessary). Next click on files, plus icon, and select model. Now, please click on From a CSV or Excel File Select Source File Download source file from Kaggle.\nFind vgsales.csv and load into SAC\nClick on import This model is very simple so we don\u0026rsquo;t have to change anything.","title":"Create new model on SAC"},{"content":"Is it still possible to install/sideload iOS apps into M1 Mac? The answer is yes - it is possible to even on the newest version of MacOS (Monterey 12.0.1).Nevertheless you have to know that not all applications are working well. For example, Instagram is crashing every time at startup, and you have to clear ~/Library/Containers/Instagram every time before launch.\nHow to install the iOS app?\nDownload and install sideloadly from https://sideloadly.io Download application that you want to install. It can be done i.e. by iMazing or from appdb\nChoose your app, enter apple ID account details (it is a good idea to use a fake one) and click on start. ","permalink":"https://pawelwiejkut.dev/posts/ios-app-on-macos/","summary":"Is it still possible to install/sideload iOS apps into M1 Mac? The answer is yes - it is possible to even on the newest version of MacOS (Monterey 12.0.1).Nevertheless you have to know that not all applications are working well. For example, Instagram is crashing every time at startup, and you have to clear ~/Library/Containers/Instagram every time before launch.\nHow to install the iOS app?\nDownload and install sideloadly from https://sideloadly.","title":"How to install iOS apps on MacOs M1 (Monterey)"},{"content":"Last time, when I published my bw_toolbox project on Github, there were a lot of questions from regular developers not so much familiar with git, how they can contribute. Because of that, I decided to write this quick-start tutorial.\nWhat do I need? – system requirements Connection with GitHub – your instance should be able to establish a connection with github.com, SSL Entires – you have to configure your SAP System by adding necessary certificates into STRUST transaction (details), Profile configuration – also changes on the profile level are required, so you have to manual edit entries or use transactions (details). ABAP implementation of git – ABAPGit – this program can be downloaded by copy-paste from its GitHub page. As you see this is a quite specific configuration, and usually this can’t be done on our client instances. Because of that, a good idea is to install your own SAP Instance. For details please check the article below or my youtube video.\nOfficial SAP Blog post: https://blogs.sap.com/2018/10/16/sap-as-abap-7.5x-developer-editions-faqs/\nMy youtube tutorial: https://youtu.be/Mk9dslG-_RU\nStep by step\nInstall your ABAPGit instance, by copying/pasting a zabapgit report from the repository: https://github.com/abapGit/abapGit. More information here. Set up your certificates and profiles as described in the official wiki\nCreate and log in to your GitHub account. Next, find \u0026amp; fork the project which you want to contribute by clicking „Fork” button. Now forked project should be added to ABAPGit Now it is time do do your changes Let’s now push changes to our repository Now as you can see on your github page, code has been updated So we have to create a pull request to the original repository Now please wait until author will accept the changes That is all 🙂\nHave a good time with your contributions!\n","permalink":"https://pawelwiejkut.dev/posts/how-to-contribute/","summary":"Last time, when I published my bw_toolbox project on Github, there were a lot of questions from regular developers not so much familiar with git, how they can contribute. Because of that, I decided to write this quick-start tutorial.\nWhat do I need? – system requirements Connection with GitHub – your instance should be able to establish a connection with github.com, SSL Entires – you have to configure your SAP System by adding necessary certificates into STRUST transaction (details), Profile configuration – also changes on the profile level are required, so you have to manual edit entries or use transactions (details).","title":"How to contribute ABAP projects on Github"},{"content":"ADSO definition:\nTRFN definition:\nIn general execution looks like: ABAP Method-\u0026gt;Call SQL on HANA-\u0026gt;Execute \u0026hellip; -\u0026gt; select\nStep by step:\nFrom ABAP site: cl_rstran_db_stat=\u0026gt;execute_haap() is executed with SQL like: SELECT \u0026#34;FIELD1\u0026#34; AS \u0026#34;FIELD1\u0026#34; , \u0026#34;0RECORDMODE\u0026#34; AS \u0026#34;RECORDMODE\u0026#34; , \u0026#34;RECORD\u0026#34; AS \u0026#34;RECORD\u0026#34; FROM \u0026#34;SAPA4H\u0026#34;.\u0026#34;/1BCAMDP/0BW:DAP:TR_04TFNXDAAVG5T5E8AZJ239HYT\u0026#34; (\u0026#39;PLACEHOLDER\u0026#39;=(\u0026#39;$$aggregation$$\u0026#39;,\u0026#39;\u0026#34;BW_HAP__________DB_AGGREGATION\u0026#34;=\u0026#39;\u0026#39;\u0026#39;\u0026#39;\u0026#39;), \u0026#39;PLACEHOLDER\u0026#39;=(\u0026#39;$$client$$\u0026#39;,\u0026#39;001\u0026#39;), \u0026#39;PLACEHOLDER\u0026#39;=(\u0026#39;$$keydate$$\u0026#39;,\u0026#39;20211110\u0026#39;), \u0026#39;PLACEHOLDER\u0026#39;=(\u0026#39;$$langu$$\u0026#39;,\u0026#39;E\u0026#39;), \u0026#39;PLACEHOLDER\u0026#39;=(\u0026#39;$$objvers$$\u0026#39;,\u0026#39;\u0026#34;OBJVERS\u0026#34; = \u0026#39;\u0026#39;A\u0026#39;\u0026#39;\u0026#39;), \u0026#39;PLACEHOLDER\u0026#39;=(\u0026#39;$$shift_decimal_places$$\u0026#39;,\u0026#39;\u0026#34;BW_HAP__________SHIFT_DECIMAL_PLACES\u0026#34;=\u0026#39;\u0026#39;I\u0026#39;\u0026#39;\u0026#39;), \u0026#39;PLACEHOLDER\u0026#39;=(\u0026#39;TR_04TFNXDAAVG5T5E8AZJ239HYT.$$adso_dtp_extraction_mode$$\u0026#39;,\u0026#39;\u0026#34;_IS_FULL_KEY\u0026#34; = 1 AND ( (\u0026#34;1TECHPROV_KEY\u0026#34; = \u0026#39;\u0026#39;ZAMDP$C\u0026#39;\u0026#39; OR \u0026#34;1TECHPROV_KEY\u0026#34; = \u0026#39;\u0026#39;ZAMDP\u0026#39;\u0026#39; ) )\u0026#39;), \u0026#39;PLACEHOLDER\u0026#39;=(\u0026#39;TR_04TFNXDAAVG5T5E8AZJ239HYT.$$runid$$\u0026#39;,\u0026#39;\u0026#34;BW_HAP__________RUNID\u0026#34;=\u0026#39;\u0026#39;96SBW6PMF5XU9CAGGGHRMDRSY\u0026#39;\u0026#39; AND \u0026#34;BW_HAP__________HAP_SEQ_NUMBER\u0026#34;=\u0026#39;\u0026#39;0\u0026#39;\u0026#39;\u0026#39;),\u0026#39;PLACEHOLDER\u0026#39; = (\u0026#39;ce_settings\u0026#39;, \u0026#39;{\u0026#34;enable_partitioned_execution\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;ceqo_enable_rownum_expr_general\u0026#34;: \u0026#34;1\u0026#34;}\u0026#39;) ) WITH HINT ( ROUTE_BY_CARDINALITY(\u0026#34;/BIC/AZAMDP2\u0026#34;) ) This is a\n","permalink":"https://pawelwiejkut.dev/posts/how-amdp-is-executed/","summary":"ADSO definition:\nTRFN definition:\nIn general execution looks like: ABAP Method-\u0026gt;Call SQL on HANA-\u0026gt;Execute \u0026hellip; -\u0026gt; select\nStep by step:\nFrom ABAP site: cl_rstran_db_stat=\u0026gt;execute_haap() is executed with SQL like: SELECT \u0026#34;FIELD1\u0026#34; AS \u0026#34;FIELD1\u0026#34; , \u0026#34;0RECORDMODE\u0026#34; AS \u0026#34;RECORDMODE\u0026#34; , \u0026#34;RECORD\u0026#34; AS \u0026#34;RECORD\u0026#34; FROM \u0026#34;SAPA4H\u0026#34;.\u0026#34;/1BCAMDP/0BW:DAP:TR_04TFNXDAAVG5T5E8AZJ239HYT\u0026#34; (\u0026#39;PLACEHOLDER\u0026#39;=(\u0026#39;$$aggregation$$\u0026#39;,\u0026#39;\u0026#34;BW_HAP__________DB_AGGREGATION\u0026#34;=\u0026#39;\u0026#39;\u0026#39;\u0026#39;\u0026#39;), \u0026#39;PLACEHOLDER\u0026#39;=(\u0026#39;$$client$$\u0026#39;,\u0026#39;001\u0026#39;), \u0026#39;PLACEHOLDER\u0026#39;=(\u0026#39;$$keydate$$\u0026#39;,\u0026#39;20211110\u0026#39;), \u0026#39;PLACEHOLDER\u0026#39;=(\u0026#39;$$langu$$\u0026#39;,\u0026#39;E\u0026#39;), \u0026#39;PLACEHOLDER\u0026#39;=(\u0026#39;$$objvers$$\u0026#39;,\u0026#39;\u0026#34;OBJVERS\u0026#34; = \u0026#39;\u0026#39;A\u0026#39;\u0026#39;\u0026#39;), \u0026#39;PLACEHOLDER\u0026#39;=(\u0026#39;$$shift_decimal_places$$\u0026#39;,\u0026#39;\u0026#34;BW_HAP__________SHIFT_DECIMAL_PLACES\u0026#34;=\u0026#39;\u0026#39;I\u0026#39;\u0026#39;\u0026#39;), \u0026#39;PLACEHOLDER\u0026#39;=(\u0026#39;TR_04TFNXDAAVG5T5E8AZJ239HYT.$$adso_dtp_extraction_mode$$\u0026#39;,\u0026#39;\u0026#34;_IS_FULL_KEY\u0026#34; = 1 AND ( (\u0026#34;1TECHPROV_KEY\u0026#34; = \u0026#39;\u0026#39;ZAMDP$C\u0026#39;\u0026#39; OR \u0026#34;1TECHPROV_KEY\u0026#34; = \u0026#39;\u0026#39;ZAMDP\u0026#39;\u0026#39; ) )\u0026#39;), \u0026#39;PLACEHOLDER\u0026#39;=(\u0026#39;TR_04TFNXDAAVG5T5E8AZJ239HYT.$$runid$$\u0026#39;,\u0026#39;\u0026#34;BW_HAP__________RUNID\u0026#34;=\u0026#39;\u0026#39;96SBW6PMF5XU9CAGGGHRMDRSY\u0026#39;\u0026#39; AND \u0026#34;BW_HAP__________HAP_SEQ_NUMBER\u0026#34;=\u0026#39;\u0026#39;0\u0026#39;\u0026#39;\u0026#39;),\u0026#39;PLACEHOLDER\u0026#39; = (\u0026#39;ce_settings\u0026#39;, \u0026#39;{\u0026#34;enable_partitioned_execution\u0026#34;: \u0026#34;0\u0026#34;, \u0026#34;ceqo_enable_rownum_expr_general\u0026#34;: \u0026#34;1\u0026#34;}\u0026#39;) ) WITH HINT ( ROUTE_BY_CARDINALITY(\u0026#34;/BIC/AZAMDP2\u0026#34;) ) This is a","title":"How AMDP TRFN is executed"},{"content":"How to run the HANA SQL function where an output table is required? Example function (from this tutorial): CREATE TYPE \u0026#34;TT_RESTAURANTS\u0026#34; AS TABLE (\u0026#34;node_id\u0026#34; INTEGER, \u0026#34;distance\u0026#34; INTEGER, \u0026#34;hops\u0026#34; BIGINT); CREATE OR REPLACE PROCEDURE \u0026#34;NEAREST_RESTAURANT\u0026#34;(IN startV INT, OUT res \u0026#34;TT_RESTAURANTS\u0026#34;) LANGUAGE GRAPH READS SQL DATA AS BEGIN GRAPH g = Graph(\u0026#34;SKIING\u0026#34;); VERTEX v_s = Vertex(:g, :startV); MULTISET\u0026lt;Vertex\u0026gt; rests = v IN Vertices(:g) WHERE :v.\u0026#34;restaurant\u0026#34; == N\u0026#39;TRUE\u0026#39;; ALTER g ADD TEMPORARY VERTEX ATTRIBUTE (INT \u0026#34;distance\u0026#34; = 0); ALTER g ADD TEMPORARY VERTEX ATTRIBUTE (BIGINT \u0026#34;hops\u0026#34; = 0L); FOREACH rest in :rests { VERTEX v_rest = Vertex(:g, :rest.\u0026#34;node_id\u0026#34;); WeightedPath\u0026lt;INT\u0026gt; p = Shortest_Path(:g, :v_s, :v_rest, (Edge conn) =\u0026gt; INTEGER { return :conn.\u0026#34;length\u0026#34;; } ); rest.\u0026#34;hops\u0026#34; = Length(:p); rest.\u0026#34;distance\u0026#34; = Weight(:p); } res = SELECT :v.\u0026#34;node_id\u0026#34;, :v.\u0026#34;distance\u0026#34;, :v.\u0026#34;hops\u0026#34; FOREACH v IN :rests; END;\nHow to run it easily in an SQL environment?\nDO BEGIN DECLARE lt_tab \u0026#34;TT_RESTAURANTS\u0026#34;; CALL \u0026#34;SKIING\u0026#34;.\u0026#34;NEAREST_RESTAURANT\u0026#34;(15,lt_tab); SELECT * FROM :lt_tab; END; ","permalink":"https://pawelwiejkut.dev/posts/call-function-table/","summary":"How to run the HANA SQL function where an output table is required? Example function (from this tutorial): CREATE TYPE \u0026#34;TT_RESTAURANTS\u0026#34; AS TABLE (\u0026#34;node_id\u0026#34; INTEGER, \u0026#34;distance\u0026#34; INTEGER, \u0026#34;hops\u0026#34; BIGINT); CREATE OR REPLACE PROCEDURE \u0026#34;NEAREST_RESTAURANT\u0026#34;(IN startV INT, OUT res \u0026#34;TT_RESTAURANTS\u0026#34;) LANGUAGE GRAPH READS SQL DATA AS BEGIN GRAPH g = Graph(\u0026#34;SKIING\u0026#34;); VERTEX v_s = Vertex(:g, :startV); MULTISET\u0026lt;Vertex\u0026gt; rests = v IN Vertices(:g) WHERE :v.\u0026#34;restaurant\u0026#34; == N\u0026#39;TRUE\u0026#39;; ALTER g ADD TEMPORARY VERTEX ATTRIBUTE (INT \u0026#34;distance\u0026#34; = 0); ALTER g ADD TEMPORARY VERTEX ATTRIBUTE (BIGINT \u0026#34;hops\u0026#34; = 0L); FOREACH rest in :rests { VERTEX v_rest = Vertex(:g, :rest.","title":"Call SAP HANA function with table"},{"content":"How to run ABAP 1909 on MacOs with M1? For me, the best idea was to use UTM. I also tried before with docker without success - in the end, there was always an error.\nInstall UTM\nDownload Ubuntu Server x64 bit version\nCreate virtual machine on UTM (220 GB storage, 6-7 CPU\u0026rsquo;s, additional flags) Install Ubuntu server on UTM\nInstall docker sudo apt-get update sudo apt-get install \\ ca-certificates \\ curl \\ gnupg \\ lsb-release curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg echo \\ \u0026#34;deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu \\ $(lsb_release -cs) stable\u0026#34; | sudo tee /etc/apt/sources.list.d/docker.list \u0026gt; /dev/null sudo apt-get update sudo apt-get install docker-ce docker-ce-cli containerd.io\nInstall ABAP 1909. Good article also here docker run --stop-timeout 3600 -i --name a4h -h vhcala4hci -p 3200:3200 -p 3300:3300 -p 8443:8443 -p 30213:30213 -p 30215:30215 -p 50000:50000 -p 50001:50001 -p 50013:50013 -p 50014:50014 store/saplabs/abaptrial:1909 -skip-limits-check -agree-to-sap-license\nIn the beginning, it is always running slow. The best idea is to use sgen and regenerate all transactions, then it should be definitely better and pretty usable :)\n","permalink":"https://pawelwiejkut.dev/posts/abap1909-dev-m1/","summary":"How to run ABAP 1909 on MacOs with M1? For me, the best idea was to use UTM. I also tried before with docker without success - in the end, there was always an error.\nInstall UTM\nDownload Ubuntu Server x64 bit version\nCreate virtual machine on UTM (220 GB storage, 6-7 CPU\u0026rsquo;s, additional flags) Install Ubuntu server on UTM\nInstall docker sudo apt-get update sudo apt-get install \\ ca-certificates \\ curl \\ gnupg \\ lsb-release curl -fsSL https://download.","title":"How to install ABAP 1909 on mac M1"},{"content":"Almost all of these programs are included in my GitHub development \u0026ldquo;bw_toolbox\u0026rdquo;. If you want, you can just implement this in an easy way to your system. Please check by clicking here.\nActivate: Name Category Type Description RSDG_TRFN_ACTIVATE TRFN PROG Activate transformations on the system. If you are missing fields in source or target - then it will not work correctly. RSDS_DATASOURCE_ACTIVATE_ALL RSDS PROG Activate data source RSBKDTPREPAIR DTP PROG Activate data transfer process RSDG_HCPR_ACTIVATE HCPR PROG Activate composite provider RSDG_CUBE_ACTIVATE CUBE PROG Activate cube RSDG_ADSO_ACTIVATE ADSO PROG Activate Advanced DataStore Object RSDG_IOBJ_ACTIVATE IOBJ PROG Activate InfoObject Maintenance: Name Category Type Description RSDG_AFTER_IMPORT_FOR_CORR N/A PROG Reimport transport RSBM_GUI_CHANGE_USTATE DTP FM Change DTP request status RSPC_VARIANT_DELETE RSPC FM Delete process chain variant RSPC_API_CHAIN_START RSPC FM Start process chain immediately ( even scheduled ) DB_DROP_TABLE DEST PROG Drop tables under the OpenHub RSDG_IOBJ_REORG IOBJ PROG Repair Infoobject RSPC_PROCESS_FINISH RSPC PROG Process chain variant status change BAPI_USER_UNLOCK N/A FM Unlock user ","permalink":"https://pawelwiejkut.dev/posts/bw-important-programs/","summary":"Almost all of these programs are included in my GitHub development \u0026ldquo;bw_toolbox\u0026rdquo;. If you want, you can just implement this in an easy way to your system. Please check by clicking here.\nActivate: Name Category Type Description RSDG_TRFN_ACTIVATE TRFN PROG Activate transformations on the system. If you are missing fields in source or target - then it will not work correctly. RSDS_DATASOURCE_ACTIVATE_ALL RSDS PROG Activate data source RSBKDTPREPAIR DTP PROG Activate data transfer process RSDG_HCPR_ACTIVATE HCPR PROG Activate composite provider RSDG_CUBE_ACTIVATE CUBE PROG Activate cube RSDG_ADSO_ACTIVATE ADSO PROG Activate Advanced DataStore Object RSDG_IOBJ_ACTIVATE IOBJ PROG Activate InfoObject Maintenance: Name Category Type Description RSDG_AFTER_IMPORT_FOR_CORR N/A PROG Reimport transport RSBM_GUI_CHANGE_USTATE DTP FM Change DTP request status RSPC_VARIANT_DELETE RSPC FM Delete process chain variant RSPC_API_CHAIN_START RSPC FM Start process chain immediately ( even scheduled ) DB_DROP_TABLE DEST PROG Drop tables under the OpenHub RSDG_IOBJ_REORG IOBJ PROG Repair Infoobject RSPC_PROCESS_FINISH RSPC PROG Process chain variant status change BAPI_USER_UNLOCK N/A FM Unlock user ","title":"BW important programs / Function modules "},{"content":"Nice to meet you 👋\nMy name is Pawel Wiejkut and I am an SAP Consultant since 2016. Since the beginning, my career is related to big data. In this blog, I share my knowledge about SAP \u0026amp; Databases. Besides, I am the author of saponit.pl platform where I teach people programming in ABAP in Polish. In my free time, I co-create projects on GitHub. Feel free to contact me via social media.\nSocial media Linkedin Instagram Twitter SAP profile Tik Tok Github YouTube Certificates SAC \u0026amp; Analitycs BW \u0026amp; HANA ABAP Open-Source Developments ","permalink":"https://pawelwiejkut.dev/about-me/","summary":"Nice to meet you 👋\nMy name is Pawel Wiejkut and I am an SAP Consultant since 2016. Since the beginning, my career is related to big data. In this blog, I share my knowledge about SAP \u0026amp; Databases. Besides, I am the author of saponit.pl platform where I teach people programming in ABAP in Polish. In my free time, I co-create projects on GitHub. Feel free to contact me via social media.","title":"About me"},{"content":"This tutorial group describes how to create a simple SAC App step by step. We are beginning from the new data model, and go through dropdowns, cascade filtering, design and popups. Everything step by step with screenshots and gifs.\nCreate new model on SAC Simple APP on SAC Create and fill a dropdown in SAC APP Cascade filtering in SAC Design the app and create button to clean the filters Select dimensions by CheckBox and Button Create a popup to change dimensions order ","permalink":"https://pawelwiejkut.dev/sac-tutorial/","summary":"This tutorial group describes how to create a simple SAC App step by step. We are beginning from the new data model, and go through dropdowns, cascade filtering, design and popups. Everything step by step with screenshots and gifs.\nCreate new model on SAC Simple APP on SAC Create and fill a dropdown in SAC APP Cascade filtering in SAC Design the app and create button to clean the filters Select dimensions by CheckBox and Button Create a popup to change dimensions order ","title":"Create simple SAC APP step by step"},{"content":"You may wonder how to execute AMDP TRFN directly via ABAP. It seems that the best idea is to use the method below:\ncl_rstran_db_stat=\u0026gt;execute_haap( EXPORTING i_processing_phase = lr_request-\u0026gt;if_rsbk_request~get_stage( )-stage_id i_target_request = lr_request-\u0026gt;if_rsbk_request~get_requid( ) i_dtp = lr_dtp-\u0026gt;n_dtp i_t_trfn = lr_request-\u0026gt;if_rsbk_request~get_t_transformation( i_only_she_relevant = rs_c_true ) i_r_log = lr_request-\u0026gt;if_rsbk_request~get_log( ) i_simulation = lr_request-\u0026gt;get_simulation( ) i_th_bp = lt_bp i_r_outbound = lr_outbound IMPORTING e_r_analysis_rt = DATA(lr_analysis) ). DATA(lr_segment_outbound) = lr_outbound-\u0026gt;get_segment( i_segid = 001 ). Unfortunately you can\u0026rsquo;t put data into this method - it always reads it from the ADSO table and provides only the result. For a complete use case please check out this repository.\n","permalink":"https://pawelwiejkut.dev/posts/amdp-abap-trfn/","summary":"You may wonder how to execute AMDP TRFN directly via ABAP. It seems that the best idea is to use the method below:\ncl_rstran_db_stat=\u0026gt;execute_haap( EXPORTING i_processing_phase = lr_request-\u0026gt;if_rsbk_request~get_stage( )-stage_id i_target_request = lr_request-\u0026gt;if_rsbk_request~get_requid( ) i_dtp = lr_dtp-\u0026gt;n_dtp i_t_trfn = lr_request-\u0026gt;if_rsbk_request~get_t_transformation( i_only_she_relevant = rs_c_true ) i_r_log = lr_request-\u0026gt;if_rsbk_request~get_log( ) i_simulation = lr_request-\u0026gt;get_simulation( ) i_th_bp = lt_bp i_r_outbound = lr_outbound IMPORTING e_r_analysis_rt = DATA(lr_analysis) ). DATA(lr_segment_outbound) = lr_outbound-\u0026gt;get_segment( i_segid = 001 ). Unfortunately you can\u0026rsquo;t put data into this method - it always reads it from the ADSO table and provides only the result.","title":"AMDP ABAP Transformation execution"},{"content":"How to insert the data into the BW ADSO on the BW on Hana and BW4HANA ? The easy way is just to use the official function module delivered by SAP\nExample ADSO: Example code:\nREPORT zadsoamdp. DATA: lt_data TYPE STANDARD TABLE OF /bic/aadsoamdp2, lt_msg TYPE rs_t_msg. APPEND VALUE #( field1 = \u0026#39;1\u0026#39; field2 = \u0026#39;2\u0026#39; ) TO lt_data. CALL FUNCTION \u0026#39;RSDSO_DU_WRITE_API\u0026#39; EXPORTING i_adsonm = \u0026#39;ADSOAMDP\u0026#39; it_data = lt_data IMPORTING et_msg = lt_msg EXCEPTIONS write_failed = 1 datastore_not_found = 2 OTHERS = 3. IF sy-subrc \u0026lt;\u0026gt; 0. MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4. ENDIF. cl_demo_output=\u0026gt;display( EXPORTING data = lt_msg ). ","permalink":"https://pawelwiejkut.dev/posts/du-adso-api/","summary":"How to insert the data into the BW ADSO on the BW on Hana and BW4HANA ? The easy way is just to use the official function module delivered by SAP\nExample ADSO: Example code:\nREPORT zadsoamdp. DATA: lt_data TYPE STANDARD TABLE OF /bic/aadsoamdp2, lt_msg TYPE rs_t_msg. APPEND VALUE #( field1 = \u0026#39;1\u0026#39; field2 = \u0026#39;2\u0026#39; ) TO lt_data. CALL FUNCTION \u0026#39;RSDSO_DU_WRITE_API\u0026#39; EXPORTING i_adsonm = \u0026#39;ADSOAMDP\u0026#39; it_data = lt_data IMPORTING et_msg = lt_msg EXCEPTIONS write_failed = 1 datastore_not_found = 2 OTHERS = 3.","title":"Direct Update ADSO ABAP API"},{"content":"This time I will show you how to fix the issue with your SAP ABAP Developer instance which don’t want to start. This article is about the license issue, which has expired 1.04.2021. In this case, the command starts ALL, will stick on: The database is not available via R3trans ------------------------------------------- starting database NPL ... Log file: /sybase/NPL/startdb.log\nOr Stop returns modlib.jslib.caughtException\nWe have to download a new license file from https://developers.sap.com/trials-downloads.html?search=ABAP under the section SAP NetWeaver AS ABAP Developer Edition 7.52 SP04 Now we have to login into the system via Terminal on npladm user, type su -l npladm We have to backup old license file sudo cp /sybase/NPL/SYSAM-2_0/licenses/SYBASE_ASE_TestDrive.lic /sybase/NPL/SYSAM-2_0/licenses/SYBASE_ASE_TestDrive.lic.bak Now lets copy content of SYBASE_ASE_TestDrive.lic from downloaded file and paste this into the file on the system sudo nano /sybase/NPL/SYSAM-2_0/licenses/SYBASE_ASE_TestDrive.lic Your server should be able to start your server again without any issues ","permalink":"https://pawelwiejkut.dev/posts/npl-wont-start/","summary":"This time I will show you how to fix the issue with your SAP ABAP Developer instance which don’t want to start. This article is about the license issue, which has expired 1.04.2021. In this case, the command starts ALL, will stick on: The database is not available via R3trans ------------------------------------------- starting database NPL ... Log file: /sybase/NPL/startdb.log\nOr Stop returns modlib.jslib.caughtException\nWe have to download a new license file from https://developers.","title":"SAP NPL 7.52 does not start"},{"content":"Z tej lekcji dowiesz się jak działają joby w ABAPie. Napiszemy prosty program który bedzie odpowiedzialny za wstawienie danych do tabeli a następnie ustawimy go jako proces w tle. Dodatkowo opowiadam tez o tym czym są warianty, oraz jak je tworzyć. To wideo jest częścią płatnego kursu ABAP od podstaw, dostępnego na https://saponit.pl/kurs-abap\n","permalink":"https://pawelwiejkut.dev/posts/joby-w-abapie/","summary":"Z tej lekcji dowiesz się jak działają joby w ABAPie. Napiszemy prosty program który bedzie odpowiedzialny za wstawienie danych do tabeli a następnie ustawimy go jako proces w tle. Dodatkowo opowiadam tez o tym czym są warianty, oraz jak je tworzyć. To wideo jest częścią płatnego kursu ABAP od podstaw, dostępnego na https://saponit.pl/kurs-abap","title":"Joby W ABAPie"},{"content":"Most of the objects are not modifiable on the quality or production systems, but we have exceptions like Infopackages on BW. Yesterday I have to check who deleted an object from the system and fortunately, there is the log for this operation. I will show you how to check this.\nWe have to go to the transaction SGL1 and search for RSSM Now you should be able to find the impostor 🙂 ","permalink":"https://pawelwiejkut.dev/posts/check-who-deleted/","summary":"Most of the objects are not modifiable on the quality or production systems, but we have exceptions like Infopackages on BW. Yesterday I have to check who deleted an object from the system and fortunately, there is the log for this operation. I will show you how to check this.\nWe have to go to the transaction SGL1 and search for RSSM Now you should be able to find the impostor 🙂 ","title":"How to check who deleted your BW object?"},{"content":"In this blog post, I will show you how you can fast start with developing custom HANA adapters in JAVA.\nS-User is required to download data provisioning agent: https://launchpad.support.sap.com/#/softwarecenter/template/products/%20_APP=00200682500000001943\u0026amp;_EVENT=DISPHIER\u0026amp;HEADER=Y\u0026amp;FUNCTIONBAR=N\u0026amp;EVENT=TREE\u0026amp;NE=NAVIGATE\u0026amp;ENR=73555000100200005999\u0026amp;V=MAINT\u0026amp;TA=ACTUAL\u0026amp;PAGE=SEARCH/HANA%20DP%20AGENT%202.0 I downloaded the Linux version, but windows should work too (I’m on Mac OS). I will proceed in SAP Hana Studio because Eclipse is missing some packages. If you don’t have SAP Hana Studio, please check: https://launchpad.support.sap.com/#/softwarecenter/template/products/%20_APP=00200682500000001943\u0026amp;_EVENT=DISPHIER\u0026amp;HEADER=Y\u0026amp;FUNCTIONBAR=N\u0026amp;EVENT=TREE\u0026amp;NE=NAVIGATE\u0026amp;ENR=73554900100200000585\u0026amp;V=MAINT\u0026amp;TA=ACTUAL\u0026amp;PAGE=SEARCH/SAP%20HANA%20STUDIO%202 Download missing plugins: https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api/2.3.0 https://mvnrepository.com/artifact/com.sun.xml.bind/jaxb-impl/2.3.3 and put into the plugins folder Unpack dpagent.tar.gz Run Hana Studio and go to the Help -\u0026gt; Install new Software. Then click on Add, Local and choose patch to UI folder from extracted DPAGENT.TGZ Install the plugin. Create a hello world adapter. Change perspective to Plug-in development. Click on File-\u0026gt;New-\u0026gt;Plugin Project. Check to Generate an activator flag. Right-click on the project, Debug As -\u0026gt;Debug Configurations Unselect Target Platform and click on Add Required Bundles Select org.eclipse.equinox.console and com.sap.hana.dpagent. Next click on Add Required Bundles Click on Apply, then Debug. When this is finished, everything should work perfectly. Now we can use dplogin to deploy plugin into your Hana system. If you are using HANA Express, dpagent can be activated on HXE instance from SYSTEM connection by: ALTER DATABASE HXE ADD \u0026#39;dpserver\u0026#39; And finally, you should be able to use it in Hana 🙂 Good article on SAP Blog regarding this topic: https://blogs.sap.com/2015/08/26/hana-adapter-sdk-the-adapter-code/\n","permalink":"https://pawelwiejkut.dev/posts/custom-hana-adapter/","summary":"In this blog post, I will show you how you can fast start with developing custom HANA adapters in JAVA.\nS-User is required to download data provisioning agent: https://launchpad.support.sap.com/#/softwarecenter/template/products/%20_APP=00200682500000001943\u0026amp;_EVENT=DISPHIER\u0026amp;HEADER=Y\u0026amp;FUNCTIONBAR=N\u0026amp;EVENT=TREE\u0026amp;NE=NAVIGATE\u0026amp;ENR=73555000100200005999\u0026amp;V=MAINT\u0026amp;TA=ACTUAL\u0026amp;PAGE=SEARCH/HANA%20DP%20AGENT%202.0 I downloaded the Linux version, but windows should work too (I’m on Mac OS). I will proceed in SAP Hana Studio because Eclipse is missing some packages. If you don’t have SAP Hana Studio, please check: https://launchpad.support.sap.com/#/softwarecenter/template/products/%20_APP=00200682500000001943\u0026amp;_EVENT=DISPHIER\u0026amp;HEADER=Y\u0026amp;FUNCTIONBAR=N\u0026amp;EVENT=TREE\u0026amp;NE=NAVIGATE\u0026amp;ENR=73554900100200000585\u0026amp;V=MAINT\u0026amp;TA=ACTUAL\u0026amp;PAGE=SEARCH/SAP%20HANA%20STUDIO%202 Download missing plugins: https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api/2.3.0 https://mvnrepository.","title":"Developing custom HANA adapter – quickstart"},{"content":"In the SAP NetWeaver system, clients are used for many purposes. One of the business purposes can be handling many sub-companies on one system. From a development perspective, you can use a different client to protect your development or split the system by development and unit tests. Last time I also create a new client on my instance, to separate the client between data to my extractors and rest. How you can achieve this? Let’s start from edit a file on your hard drive.\nOperations used for client copy is not complicated. First, of all, you need to add one line at the end of /sapmnt/NPL/profile/DEFAULT.PFL:\nnano /sapmnt/NPL/profile/DEFAULT.PFL login/no_automatic_user_sapstar = 0 This will enable to log in on SAP* user, on the new client even if this user does not exist.\nAfter the restart we have to add a new logical system name, we can do this in transaction sm30 by edit view: V_TBDLS:\nWhen a logical client is created, then it is time to go to the scc4 transaction and create a new client:\nAfter save, you should be able to log on new client using credentials:\nuser: SAP* password: pass Unfortunately, the new client is empty and doesn’t have the necessary data, even to create a new user. The simplest way to solve this issue is to copy data from one client to another using transaction sccl.\nAnd that’s all! After the copy, you should be able to log in to your new client without issues.\n","permalink":"https://pawelwiejkut.dev/posts/new-sap-client/","summary":"In the SAP NetWeaver system, clients are used for many purposes. One of the business purposes can be handling many sub-companies on one system. From a development perspective, you can use a different client to protect your development or split the system by development and unit tests. Last time I also create a new client on my instance, to separate the client between data to my extractors and rest. How you can achieve this?","title":"Create new SAP client"},{"content":"Toady short tutorial about extending the decision tree in the process chain. As you probably know decision three blocks can be extended. In our example, we want to run a delta info package in everyday processing, and depending on our customizing perform a full load. Process chain example: Customization table: Basically, if the value of param ISIP in our customer table is set to DELTA, we want to execute the delta info package. If param will be set to the FULL, execute ISIP in full mode.\nMain object used to achieve our goal is BAPI: RSAR_CONNECTOR, where we need to create the function, which can be later used in formula: Lets go to se18, and create new implementation The best idea now is to DO NOT ACTIVATE this implementation before fully fill implementing the class. Let’s just double click on the class name If you activate implementation with the wrong function definition, then you have to clear entries in table: SFBMETHSIG before enabling implementation once again. In another way, the function structure will be not updated.\nBasic class should look like below:\nclass ZCL_IM_ISIP_CUST definition public final create public . public section. interfaces IF_EX_RSAR_CONNECTOR . class-methods CHECK_CUST importing !IV_CUST_ID type STRING returning value(RV_RUN_MODE) type STRING . PROTECTED SECTION. PRIVATE SECTION. ENDCLASS. CLASS ZCL_IM_ISIP_CUST IMPLEMENTATION. METHOD check_cust. SELECT SINGLE param FROM zexcust WHERE id = @iv_cust_id INTO @rv_run_mode. ENDMETHOD. METHOD if_ex_rsar_connector~get. DATA: ls_cust_function TYPE sfbeoprnd. CASE i_key. WHEN \u0026#39;CUSTOM\u0026#39;. CLEAR ls_cust_function. ls_cust_function-tech_name = \u0026#39;C_CHECK_CUST\u0026#39;. ls_cust_function-descriptn = \u0026#39;Check cust table to define correct ISIP\u0026#39;. ls_cust_function-class = \u0026#39;ZCL_IM_ISIP_CUST\u0026#39;. ls_cust_function-method = \u0026#39;CHECK_CUST\u0026#39;. APPEND ls_cust_function TO c_operands. ENDCASE. ENDMETHOD. ENDCLASS. After using our new function C_CHECK_CUST in the process chain, we get desired result ","permalink":"https://pawelwiejkut.dev/posts/extend-rspc-decision/","summary":"Toady short tutorial about extending the decision tree in the process chain. As you probably know decision three blocks can be extended. In our example, we want to run a delta info package in everyday processing, and depending on our customizing perform a full load. Process chain example: Customization table: Basically, if the value of param ISIP in our customer table is set to DELTA, we want to execute the delta info package.","title":"How to extend decision​ tree in process chain?"},{"content":"Potrafimy już tworzyć podstawowe struktury danych, wiemy też jak zalogować informację przy użyciu Balloga. Czas więc przejść do kolejnego kroku i dowiedzieć się w jaki sposób możemy przeprocesować dane zewnętrzne w ABAPie. Weźmy na przykład taki plik .csv, z którego chcielibyśmy przenieść do tabeli:\nemployees Pobierz\nProcedura jest ogólnie będzie dość prosta – jedną tabelkę już przecież mamy. Nasz program będzie potrafił:\nwczytać dane od użytkownika, wprowadzić nowe wpisy od użytkownika do bazy , wprowadzić wpisy z serwera aplikacji do bazy. Fajnie byłoby aby program był tak dynamicznie napisany, że nie będziemy musieli go zmieniać nawet jeżeli będziemy chcieć „wpisać” dane do tabeli określonej w pierwszej kolumnie naszego pliku. Jeżeli otworzymy zbiór danych, zobaczymy że prezentują się one następująco:\nUwaga, w tym artykule przedstawiam dwa ważne rozdziały: operacje na plikach i programowanie obiektowe. Jeśli niektóre rozwiązania są dla Ciebie niejasne, bądź też chcesz dowiedzieć się więcej to zapraszam Cię do zapoznania się z ofertą: https://saponit.pl/kurs-abap/ Tworzymy dodatkową tabelę Pierwszą kolumną w pliku csv oznaczona jest nazwa tabeli do której chcemy wpisać dane. Dwie kolejne zawierają dane które chcemy do podanych tabel wpisać. Potrzebujemy zatem poza tabelką ZEMPLOYEES jeszcze tabelę ZSALARIES. Możemy ją szybko utworzyć w eclipse:\n@EndUserText.label : \u0026#39;Employees salaries\u0026#39; @AbapCatalog.enhancementCategory : #NOT_EXTENSIBLE @AbapCatalog.tableCategory : #TRANSPARENT @AbapCatalog.deliveryClass : #A @AbapCatalog.dataMaintenance : #LIMITED define table zsalaries { key id : char3 not null; amount : integer64; } Tabele mamy gotowe, fajnie byłoby gdybyśmy mogli nie tylko używać plików pobranych od użytkownika, ale również tych które są dostępne na app serwerze. O tym ostatnim jeszcze nie pisałem w żadnych z poprzednich poradników. Nowością jest tu transakcja al11, która służy w NetVeawer do przechowywania plików. Można powiedzieć, że jest ona odpowiednikiem windowsowego explorera, widać w niej foldery odpowiadające tym faktycznie umieszczonym na dysku twardym wirtualnej maszyny:\nDostęp do plików z poziomu ABAPa odpowiada dostępowi z poziomu systemu operacyjnego. Jest to o tyle ważne, że jeżeli używamy Windowsa to wielkość znaków w ścieżce do pliku nie ma znaczenia, natomiast w przypadku Linuxa jest odwrotnie. Nasz serwer aplikacji zainstalowany jest na maszynie z Linuxem, natomiast serwer prezentacji (czyli SAP GUI) możemy mieć zainstalowany na dowolnym systemie operacyjnym, np. Windows. Nasz development będzie składać się z dwóch klas i raportu służącego do uruchomienia. Wykorzystamy tutaj dziedziczenie, czyli jedną z zalet programowania obiektowego. Jeżeli chcielibyśmy przedstawić klasy graficznie wyglądałoby to następująco:\nKlasa po której będziemy dziedziczyć Zacznijmy od eclipse i stwórzmy pierwszą klasę ZCL_FILE. Po pierwsze musimy zadeklarować potrzebne typy danych: CLASS zcl_file DEFINITION PUBLIC CREATE PUBLIC . PUBLIC SECTION. TYPES t_string_tab TYPE string. TYPES tt_string_tab TYPE STANDARD TABLE OF t_string_tab. METHODS insert_to_table IMPORTING iv_table_name TYPE string it_table TYPE STANDARD TABLE. PROTECTED SECTION. METHODS process_table IMPORTING is_line_to_insert TYPE t_string_tab EXPORTING et_processed_data TYPE tt_string_tab ev_table_name TYPE string. PRIVATE SECTION. ENDCLASS. Określamy najpierw własne typy: strukturę zwierającą tylko stringi i tabelę do niej. W sekcji publicznej tworzymy również dwie metody. Pierwsza z nich ma za zadanie wpisać nasze dane do tabeli, natomiast druga jest odpowiedzialna za odczytanie przekazanej lini z tabeli i określenia do jakiej tabeli wpis powinien trafić.\nImplementacja: CLASS zcl_file IMPLEMENTATION. METHOD insert_to_table. \u0026#34;deklarujemy tabele stringów DATA:lt_tab TYPE tt_string_tab. \u0026#34;oraz dwie referencje, do danych i do opisu struktury DATA: lr_str TYPE REF TO data, lr_strd TYPE REF TO cl_abap_structdescr. \u0026#34;tworzymy sobie referencje CREATE DATA lr_str TYPE (iv_table_name). \u0026#34;i przypisujemy ją do field-sybolu ASSIGN lr_str-\u0026gt;* TO FIELD-SYMBOL(\u0026lt;ls_str\u0026gt;). \u0026#34;pobieramy refernecję do opisu naszej struktury na podstawie field-symbolu \u0026#34;(można było również pobrać ją po nazwie) lr_strd ?= cl_abap_tabledescr=\u0026gt;describe_by_data_ref( lr_str ). \u0026#34;wykonujemy petle po wszytskich komponentach naszej struktury \u0026#34;(w przypadku zemployees będzie tu:ID,NAME,LAST_NAME) LOOP AT lr_strd-\u0026gt;components ASSIGNING FIELD-SYMBOL(\u0026lt;ls_comp\u0026gt;). \u0026#34;każdy z komponentów przypisujemy do zmiennej ASSIGN COMPONENT \u0026lt;ls_comp\u0026gt;-name OF STRUCTURE \u0026lt;ls_str\u0026gt; TO FIELD-SYMBOL(\u0026lt;lv_comp\u0026gt;). \u0026#34;z odczytanej lini z danymi bierzemy odpowiednią wartość, o takiej samej kolejności \u0026#34;jak ta odczytana z kompnentu \u0026#34;(w przypadku naszego pliku pierwsze będzie tu: JNO \u0026#34;) ASSIGN it_table[ sy-tabix ] TO FIELD-SYMBOL(\u0026lt;ls_ctab\u0026gt;) . \u0026#34;do struktury przypisujemy dane z odczytanej lini, teraz nasze dane \u0026#34;powinny być w poprawnym typie w \u0026lt;ls_str\u0026gt; \u0026lt;lv_comp\u0026gt; = \u0026lt;ls_ctab\u0026gt;. ENDLOOP. \u0026#34;wpisujemy dane do tabeli w bazie danych MODIFY (iv_table_name) FROM \u0026lt;ls_str\u0026gt;. \u0026#34;jeśli wystąpi błąd, zwróć wiadomość IF sy-subrc = 2. MESSAGE \u0026#39;Error occured while modify\u0026#39; TYPE \u0026#39;E\u0026#39;. ENDIF. ENDMETHOD. METHOD process_table. \u0026#34;podziel linie po przecinku tak żeby powstała z nich tabela SPLIT is_line_to_insert AT \u0026#39;,\u0026#39; INTO TABLE DATA(lt_split). \u0026#34;wybierz pierwszą wartość, która opisuje tabelę do której \u0026#34;trafią dane DATA(lv_tab_name) = lt_split[ 1 ]. \u0026#34;usuwany tą wartość z tabeli DELETE lt_split INDEX 1. et_processed_data = lt_split. ev_table_name = lv_tab_name. ENDMETHOD. ENDCLASS. Jeżeli mimo opisu nie do końca rozumiesz co dzieje się w kodzie to się nie przejmuj. Jak program będzie już gotowy po prostu przedebugguj się przez niego.\nObsługa plików z serwera aplikacji Zacznijmy od umieszczenia pliku na serwerze aplikacji. Jak wspominałem wcześniej w al11 możemy zobaczyć pliki w tym samym miejscu w którym widać je z poziomu systemu operacyjnego. Możemy więc przenieść je tam za pomocą ssh i nadając im uprawnienia dla npladm, lub użyć modułu funkcyjnego ARCHIVFILE_CLIENT_TO_SERVER. Ważne jest aby koniecznie przed wprowadzaniem danych zaznaczyć flagę Uppercase/Lowercase.\nNastępnie w path podajemy ścieżkę do pliku na naszym systemie operacyjnym (w Windows będzie ona zaczynać się prawdopodobnie od C:), natomiast w targetpath ścieżkę w której chcemy zapisać plik na serwerze aplikacji. Następnie uruchamiamy modół i sprawdzamy czy plik faktycznie znajduje się w katalogu /usr/sap/NPL/D00/work/.\nJeżeli dwa razy klikniemy w plik powinniśmy zobaczyć jego zawartość:\nPrzejdźmy teraz do definicji klasy ZCL_FILE_SERVER CLASS zcl_file_server DEFINITION INHERITING FROM zcl_file PUBLIC FINAL CREATE PUBLIC. PUBLIC SECTION. METHODS constructor IMPORTING iv_path TYPE string. METHODS process_server_data. METHODS: get_ov_path RETURNING VALUE(r_result) TYPE string, set_ov_path IMPORTING iv_ov_path TYPE string. PROTECTED SECTION. PRIVATE SECTION. DATA: ov_path TYPE string. ENDCLASS. Klasa dziedziczy po klasie ZCL_FILE i dlatego potrzebujemy INHERITING FROM. Po naszej klasie nie będzie można dziedziczyć, dlatego posiada dopisek „final”. Wewnątrz klasy tworzymy prywatny parametr path, który odczytać możemy za pomocą gettera a zapisać za pomocą settera. Jest to zgodne z zasadami programowania obiektowego, i umożliwia nam stworzenie np. dodatkowej walidacji w setterze gdzie możemy sprawdzić czy nasza ścieżka zawiera charakterystyczne znaki jak np. „/”. Do parametru prywatnego nie mamy dostępu zarówno z poziomu obiektu klasy, jak i w przypadku dziedziczenia. Implementacja będzie wyglądać następująco:\nCLASS zcl_file_server IMPLEMENTATION. METHOD constructor. \u0026#34;konstruktor jest wywoływany podczas tworzenia obiektu i ustawia argument klasy \u0026#34;ov_path przy użyciu settera \u0026#34;zgodnie z wymaganimi musimy zawsze wywołać konstruktor nadrzędny, który mimo \u0026#34;tego że nie jest przez nas zadeklarowany to niejawnie istnieje super-\u0026gt;constructor( ). set_ov_path( iv_ov_path = iv_path ). ENDMETHOD. METHOD process_server_data. \u0026#34;tworzymy strukturę typu string DATA ls_data TYPE t_string_tab. \u0026#34;pobieramy ścieżkę do pliku z atrybutu ov_path DATA(lv_path) = get_ov_path( ). \u0026#34;otwieramy nasz plik z danymi do odczytu w trybie tekstowym OPEN DATASET lv_path FOR INPUT IN TEXT MODE ENCODING DEFAULT. \u0026#34;jeśli pojawi się błąd, pokaż wiadomość o błędzie IF sy-subrc \u0026lt;\u0026gt; 0. MESSAGE \u0026#39;Can not open file for read\u0026#39; TYPE \u0026#39;E\u0026#39;. EXIT. ENDIF. DO. \u0026#34;czytaj plik linia po linii READ DATASET lv_path INTO ls_data. \u0026#34;jeśli wystąpił błąd to plik prawdopodobnie został już odczytany do końca IF sy-subrc \u0026lt;\u0026gt; 0. EXIT. ENDIF. \u0026#34;wywołaj metodę process_table z ZCL_FILE (dziedziczymy ją) \u0026#34;do tabeli wyeksportuj linie z naszego pliku i pobierz \u0026#34;danę oraz tabele do ktorej należy je wpisać. process_table( EXPORTING is_line_to_insert = ls_data IMPORTING et_processed_data = DATA(lt_ctab) ev_table_name = DATA(lv_tab) ). \u0026#34;wywołaj metodę insert_to_table z ZCL_FILE (dziedziczymy ją) \u0026#34;do tabeli wyeksportuj dane, oraz nazwę tabeli \u0026#34;do której należy je wpisać insert_to_table( EXPORTING iv_table_name = lv_tab it_table = lt_ctab ). ENDDO. \u0026#34;jeśli wszystko poszło ok, wyświetl komunikat o błędzie MESSAGE \u0026#39;Processing succesfull\u0026#39; TYPE \u0026#39;S\u0026#39;. ENDMETHOD. METHOD get_ov_path. r_result = me-\u0026gt;ov_path. ENDMETHOD. METHOD set_ov_path. me-\u0026gt;ov_path = iv_ov_path. ENDMETHOD. ENDCLASS. Raport uruchamiający przetważanie Finalnie możemy przejść do stworzenia raportu który będzie odpowiedzialny za uruchamianie naszej implementacji:\nREPORT zload_data. PARAMETERS: pa_path TYPE dxfields-longpath LOWER CASE, pa_sapp RADIOBUTTON GROUP rb1 USER-COMMAND gr1 DEFAULT \u0026#39;X\u0026#39;, pa_sagu RADIOBUTTON GROUP rb1. \u0026#34;Obsługa evetu który umożliwia nam wyświetlenie menu z pomocą we wprowadzeniu \u0026#34;ściezki do parametru path AT SELECTION-SCREEN ON VALUE-REQUEST FOR pa_path. DATA(lv_loc) = SWITCH dxfields-location( pa_sapp WHEN abap_true THEN \u0026#39;A\u0026#39; WHEN abap_false THEN \u0026#39;P\u0026#39; ). CALL FUNCTION \u0026#39;F4_DXFILENAME_TOPRECURSION\u0026#39; EXPORTING i_location_flag = lv_loc i_path = pa_path IMPORTING o_path = pa_path EXCEPTIONS rfc_error = 1 error_with_gui = 2 OTHERS = 3. IF sy-subrc \u0026amp;lt;\u0026gt; 0. MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4. ENDIF. AT SELECTION-SCREEN. IF sy-ucomm \u0026amp;lt;\u0026gt; \u0026#39;GR1\u0026#39; AND pa_path IS INITIAL. MESSAGE \u0026#39;File path is required\u0026#39; TYPE \u0026#39;E\u0026#39;. ENDIF. START-OF-SELECTION. DATA: lt_tab TYPE zcl_file=\u0026gt;tt_string_tab. IF pa_sagu = abap_true. \u0026#34;tworzymy nowy obiekt DATA(lobj_app_server) = NEW zcl_file_gui( ). \u0026#34;chcemy znać powód dla którego nie możemy zauploadować pliku \u0026#34;z GUI, dlatego EXCEPTIONS są odkomentowane w całości cl_gui_frontend_services=\u0026gt;gui_upload( EXPORTING filename = CONV #( pa_path ) CHANGING data_tab = lt_tab EXCEPTIONS file_open_error = 1 file_read_error = 2 no_batch = 3 gui_refuse_filetransfer = 4 invalid_type = 5 no_authority = 6 unknown_error = 7 bad_data_format = 8 header_not_allowed = 9 separator_not_allowed = 10 header_too_long = 11 unknown_dp_error = 12 access_denied = 13 dp_out_of_memory = 14 disk_full = 15 dp_timeout = 16 not_supported_by_gui = 17 error_no_gui = 18 OTHERS = 19 ). IF sy-subrc \u0026amp;lt;\u0026gt; 0. MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4. ENDIF. \u0026#34;uruchamiamy metodę process_gui_data i przekazuemy dane wczytane z GUI lobj_app_server-\u0026gt;process_gui_data( lt_table = lt_tab ). ELSE. \u0026#34;tworzymy obiekt i przekazujemy wymagne dane do konstruktora DATA(lobj_file_server) = NEW zcl_file_server( iv_path = CONV #( pa_path ) ). \u0026#34;uruchamiamy metodę do przetwarzania danych z serwera apikacji lobj_file_server-\u0026gt;process_server_data( ). ENDIF. Text elementy do raportu powinny wyglądać następująco:\nFinalnie powinniśmy mieć trzy nowe klasy i raport oraz dwie tabele i plik widoczny w al11:\nPrzed uruchomieniem programu tabele powinny być puste, natomiast po jego uruchomieniu powinny wypełnić się danymi:\nW tej lekcji to już wszystko. Jeśli plik przeprocesował się poprawnie, wpisy w obu tabelach powinny pojawić się natychmiast po uruchomieniu. Pliki utworzone podczas tej lekcji możecie znaleźć też na githubie:\nhttps://github.com/pawelwiejkut/abap_operacje_na_plikach.git\n","permalink":"https://pawelwiejkut.dev/posts/dzialania-na-plikach/","summary":"Potrafimy już tworzyć podstawowe struktury danych, wiemy też jak zalogować informację przy użyciu Balloga. Czas więc przejść do kolejnego kroku i dowiedzieć się w jaki sposób możemy przeprocesować dane zewnętrzne w ABAPie. Weźmy na przykład taki plik .csv, z którego chcielibyśmy przenieść do tabeli:\nemployees Pobierz\nProcedura jest ogólnie będzie dość prosta – jedną tabelkę już przecież mamy. Nasz program będzie potrafił:\nwczytać dane od użytkownika, wprowadzić nowe wpisy od użytkownika do bazy , wprowadzić wpisy z serwera aplikacji do bazy.","title":"Działania na plikach"},{"content":"Even if you use SQL for your daily work, it is possible that you might don’t know about two ways to set a condition: using \u0026ldquo;where\u0026rdquo; and .. put the condition into the join. The main issue is that they can return different results. Let me explain more.\n1.Let’s assume that you have 2 tables. Content of first one 2.Content of the second one Now let’s get only this employees with salary bigger than 4 000 select * from employees emp left join salaries sal on emp.id = sal.employee where sal.salary \u0026gt; 4000\nResult shouldn’t impress anyone But now let’s change our query and move the condition to ON. Results will look different than before Of course, this behavior is correct and refers to the algebra of the relationship used in SQL. I have to paste here my favorite image Image source: https://external-preview.redd.it/M5QHWsp2vgZ-3QDZ4m-qS58lsOUgDNHau8trSFzS8H0.jpg?auto=webp\u0026amp;s=cae9cdc438b71c9025d40dad4650801fdcae1ef8\nSo as you see our statement without any restriction should return and because we just have only one entry which passes our criteria we just get empty rows in other cases. This also explains why our condition move doesn’t change anything in case of an inner join If you created a infoset object on SAP BW System, you can see that there is an option called Left Outer: Add Filter Value to On-Condition. When you don’t check this option, evaluated SQL for ASE DB in my case will look like below select \u0026#34;T1\u0026#34;.\u0026#34;TCTSYSID\u0026#34; as \u0026#34;F1\u0026#34; , \u0026#34;T1\u0026#34;.\u0026#34;TCTJOBNAME\u0026#34; as \u0026#34;F2\u0026#34; from \u0026#34;/BI0/ATCTHP24O00\u0026#34; \u0026#34;T1\u0026#34; join \u0026#34;/BI0/ATCT_O4100\u0026#34; \u0026#34;T2\u0026#34; on \u0026#34;T1\u0026#34; . \u0026#34;TCTSYSID\u0026#34; = \u0026#34;T2\u0026#34; . \u0026#34;TCTSYSID\u0026#34; join \u0026#34;/BI0/ATCTHP24O00\u0026#34; \u0026#34;T3\u0026#34; on \u0026#34;T1\u0026#34; . \u0026#34;TCTSYSID\u0026#34; = \u0026#34;T3\u0026#34; . \u0026#34;TCTSYSID\u0026#34; where ( ( ( ( ( ( \u0026#34;T1\u0026#34;.\u0026#34;TCTSYSID\u0026#34; = \u0026#39;NPLCLNT100\u0026#39; ) ) ) ) AND ( ( ( ( \u0026#34;T1\u0026#34;.\u0026#34;CALDAY\u0026#34; = \u0026#39;20190414\u0026#39; ) ) ) ) ) ) group by \u0026#34;T1\u0026#34;.\u0026#34;TCTSYSID\u0026#34; ,\u0026#34;T1\u0026#34;.\u0026#34;TCTJOBNAME\u0026#34; order by \u0026#34;F1\u0026#34; ASC , \u0026#34;F2\u0026#34; ASC plan \u0026#39; (use optgoal sap_olap) (use fact_table T3) (use parallel 4) (prop T3 (parallel 4)) \u0026#39; /* BW-SYS-DB-SYB:I */\nAnd when we check flag: select \u0026#34;T1\u0026#34;.\u0026#34;TCTSYSID\u0026#34; as \u0026#34;F1\u0026#34; , \u0026#34;T1\u0026#34;.\u0026#34;TCTJOBNAME\u0026#34; as \u0026#34;F2\u0026#34; from \u0026#34;/BI0/ATCTHP24O00\u0026#34; \u0026#34;T1\u0026#34; join \u0026#34;/BI0/ATCT_O4100\u0026#34; \u0026#34;T2\u0026#34; on \u0026#34;T1\u0026#34; . \u0026#34;TCTSYSID\u0026#34; = \u0026#34;T2\u0026#34; . \u0026#34;TCTSYSID\u0026#34; join \u0026#34;/BI0/ATCTHP24O00\u0026#34; \u0026#34;T3\u0026#34; on \u0026#34;T1\u0026#34; . \u0026#34;TCTSYSID\u0026#34; = \u0026#34;T3\u0026#34; . \u0026#34;TCTSYSID\u0026#34; where ( ( ( ( ( ( \u0026#34;T1\u0026#34;.\u0026#34;TCTSYSID\u0026#34; = \u0026#39;NPLCLNT100\u0026#39; ) ) ) ) AND ( ( ( ( \u0026#34;T1\u0026#34;.\u0026#34;CALDAY\u0026#34; = \u0026#39;20190414\u0026#39; ) ) ) ) ) ) group by \u0026#34;T1\u0026#34;.\u0026#34;TCTSYSID\u0026#34; ,\u0026#34;T1\u0026#34;.\u0026#34;TCTJOBNAME\u0026#34; order by \u0026#34;F1\u0026#34; ASC , \u0026#34;F2\u0026#34; ASC plan \u0026#39; (use optgoal sap_olap) (use fact_table T3) (use parallel 4) (prop T3 (parallel 4)) \u0026#39; That\u0026rsquo;s all in this post, have a nice day and see you soon 🙂\n","permalink":"https://pawelwiejkut.dev/posts/sql-on-join-conditions/","summary":"Even if you use SQL for your daily work, it is possible that you might don’t know about two ways to set a condition: using \u0026ldquo;where\u0026rdquo; and .. put the condition into the join. The main issue is that they can return different results. Let me explain more.\n1.Let’s assume that you have 2 tables. Content of first one 2.Content of the second one Now let’s get only this employees with salary bigger than 4 000 select * from employees emp left join salaries sal on emp.","title":"SQL ON conditions in left join"},{"content":"Każdy język programowania posiada możliwość zapisania informacji technicznej, czy też zdarzenia które może być pomocna później na przykład podczas sprawdzenia poprawności działania napisanego programu. W wielu językach czynność ta sprowadza się często do napisania jednej linijki kodu, np:\nconsole.log(\u0026#34;Oh, coś poszło nie tak!\u0026#34;); W ABAPie sytuacja jest trochę bardziej skomplikowana. Zacznijmy może od napisania prostego programu, który będzie opierać się na stworzonych przez nas wcześniej obiektach DDICowych. Żeby nauczyć się czegoś nowego polecam razem ze mną wykonać wszystko w eclipse, oczywiście równie dobrze każdy krok będzie działać też bezpośrednio w SAP GUI.\nUwaga, w tym artykule przedstawiam tylko jeden sposób na obsługę balloga. Nie omawiam tu również szczegółowo wiadomości które wyświetlamy na ekranie użytkownika.\nJeżeli szukasz kompletnego kursu online abap od podstaw – zapraszam Cię do zapoznania się z ofertą: https://saponit.pl/kurs-abap/\nTworzymy program Odpalmy sobie eclipse, kliknijmy prawym przyciskiem na pakiecie $TMP w naszym projekcie i wybierzmy New-\u0026gt;Other ABAP Repository Object Wpisujemy „program” i wybieramy ABAP program Wypełniamy konieczne pola Programujemy sobie teraz raport który będzie umożliwiał wpisanie nam jednego rekordu do naszej tabelki: REPORT zemp_add. PARAMETERS: pa_id TYPE char3, pa_nam TYPE zemp_name, pa_lnm TYPE zemp_name. END-OF-SELECTION. DATA: ls_employees TYPE zstr_employees. ls_employees-id = pa_id. ls_employees-name = pa_nam. ls_employees-last_name = pa_lnm. insert zemployees from ls_employees. Write: | { pa_nam } was successfully added into table| . Uzupełnijmy sobie jeszcze text elementy, żeby nazwy naszych parametrów były wyświetlane poprawnie, w tym celu kliknijmy prawym przyciskiem i wbierzmy Open Others-\u0026gt; Text Elements Debbugujemy Zapisujemy,aktywujemy i uruchamiamy program z wybranymi parametrami np. poprzez F8 Sprawdźmy teraz zawartość naszej tabeli, żeby tego dokonać, musimy rozwinąć naszą paczkę $TMP, i poszukać tabeli w katalogu „Database Tables”. Następnie klikamy na tabeli prawym przyciskiem myszy i wybieramy „Open With”-\u0026gt;”Data Preview”. Finalnie w tabeli powinien pojawić się nowy rekord Niestety jeżeli jeszcze raz uruchomimy program z tymi samymi parametrami to znów dostaniemy komunikat o poprawnym wprowadzeniu rekordu mimo tego że nic się nie zmieni i w tabeli będziemy mieć wciąż tylko jeden rekord. Dlaczego tak się stało ? Ustawmy breake-point poprzez dwukrotne kliknięcie w pole obok ostatniej lini. Spowodowuje to wyświetlenie w tym miejscu niebieskiej kropki. Teraz kiedy uruchomimy raport znów z tymi samymi parametrami co na początku zobaczymy że wartość sy-subrc jest równa 4, ale co to właściwie oznacza ? Wartość sy-subrc jest aktualizowana każdorazowo po wykonaniu niektórych instrukcji w ABAPie . Aby sprawdzić co oznacza sy-subrc 4 w przypadku insert, pozwólmy zakończyć się programowi poprzez naciśnięcie F8 i wróćmy do perspektywy abapowej naszego raportu. Najedźmy teraz kursorem na insert i kliknijmy F1, następnie wybierzmy INSERT dbtab Po zescrolowniu na dół zobaczymy informacje o sy-subrc mówiącą że nasz wiersz nie jest unikatowy, ale jak to możliwe ? Po porostu nasza tabela którą stworzyliśmy w DDICu podczas ostatniej lekcji ma w kluczu jedno pole: ID i ta wartość musi być unikatowa. Oczywiście po niepoprawnym sy-subrc możemy jedynie wyświetlić użytkownikowi informacje że taki wpis już istnieje, jednak nam zależy również na zalogowaniu tej informacji gdzieś na stałe. Tworzymy obiekt ballogowy Przejdżmy zatem do transakcji slg0 i kliknijmy na „New Entries” Wypełniamy nazwę obiektu Zapisujemy i dodajemy nasz wpis do transportu Zaznaczamy stworzony obiekt i klikamy na Sub-objects Klikamy znowu na „New Entries” Wypełniamy sub-obiekt i zapisujemy Używamy balloga w raporcie Zmieńmy teraz nasz program tak aby wyglądał następująco REPORT zemp_add. PARAMETERS: pa_id TYPE char3, pa_nam TYPE zemp_name, pa_lnm TYPE zemp_name. END-OF-SELECTION. DATA: ls_employees TYPE zstr_employees. ls_employees-id = pa_id. ls_employees-name = pa_nam. ls_employees-last_name = pa_lnm. INSERT zemployees FROM ls_employees. IF sy-subrc = 0. MESSAGE |{ pa_nam } was successfully added into table| TYPE \u0026#39;S\u0026#39;. ELSEIF sy-subrc = 4. DATA: ls_header TYPE bal_s_log, lt_handler TYPE bal_t_logh, lv_handle TYPE balloghndl, lv_text TYPE c LENGTH 50. ls_header-object = \u0026#39;ZB_EMP\u0026#39;. ls_header-subobject = \u0026#39;ZB_EMP_ADD\u0026#39;. ls_header-extnumber = \u0026#39;Employees insert report log\u0026#39;. \u0026#34;tworzymy obiekt ballogowy CALL FUNCTION \u0026#39;BAL_LOG_CREATE\u0026#39; EXPORTING i_s_log = ls_header IMPORTING e_log_handle = lv_handle. \u0026#34;dodajemy wiadomość o niepowodzeniu naszego programu lv_text = |Entry with key { pa_id } already exists|. CALL FUNCTION \u0026#39;BAL_LOG_MSG_ADD_FREE_TEXT\u0026#39; EXPORTING i_log_handle = lv_handle i_msgty = \u0026#39;E\u0026#39; i_text = lv_text. APPEND lv_handle TO lt_handler. \u0026#34;zapisujemy informacje o niepowodzeniu w ballogu CALL FUNCTION \u0026#39;BAL_DB_SAVE\u0026#39; EXPORTING i_t_log_handle = lt_handler. MESSAGE: lv_text TYPE \u0026#39;E\u0026#39;. ENDIF. Uruchamiamy nasz program znów z poprzednimi wartościami. Tym razem powinnismy dostać message z informacją o błędzie Przejdźmy teraz do transakcji slg1 i wypełnijmy nazwę naszego obiektu. Warto też zwrócić uwagę na przedział czasowy w jakim wyświetlają się nasze logi, czasami jeżeli nie wyłączamy całkowicie naszej wirtualnej maszyny to data i godzina mogą się różnić od tych ustawionych na naszym systemie. Po wprowadzeniu wartości uruchamiamy program. Finalnie powinniśmy zobaczyć jeden błąd w górnej części programu i po kliknięciu na niego pojawią się nam szczegóły. Od teraz nasze błędne wprowadzenia są już logowane i można do nich wrócić. To już wszystko w tym artykule poświęconym ballogowi. Od teraz znasz już podstawowy sposób na zalogowanie informacji.\n","permalink":"https://pawelwiejkut.dev/posts/ballog-abap-logowanie/","summary":"Każdy język programowania posiada możliwość zapisania informacji technicznej, czy też zdarzenia które może być pomocna później na przykład podczas sprawdzenia poprawności działania napisanego programu. W wielu językach czynność ta sprowadza się często do napisania jednej linijki kodu, np:\nconsole.log(\u0026#34;Oh, coś poszło nie tak!\u0026#34;); W ABAPie sytuacja jest trochę bardziej skomplikowana. Zacznijmy może od napisania prostego programu, który będzie opierać się na stworzonych przez nas wcześniej obiektach DDICowych. Żeby nauczyć się czegoś nowego polecam razem ze mną wykonać wszystko w eclipse, oczywiście równie dobrze każdy krok będzie działać też bezpośrednio w SAP GUI.","title":"Ballog czyli logowanie danych w ABAPie"},{"content":"All of you probably at least once in your life try to insert some records to a database table, but is anyone of you ever tried to understand how Oracle actually saves the entries in the database? Last time I was making a small experiment and I want to share my results with you.\nStep one, let\u0026rsquo;s build a small table and insert a few records:\nINSERT INTO tab1 VALUES(\u0026#39;AAA\u0026#39;,111); INSERT INTO tab1 VALUES(\u0026#39;AAA\u0026#39;,222); INSERT INTO tab1 VALUES(\u0026#39;AAA\u0026#39;,333); INSERT INTO tab1 VALUES(\u0026#39;AAA\u0026#39;,444); INSERT INTO tab1 VALUES(\u0026#39;BBB\u0026#39;,111); INSERT INTO tab1 VALUES(\u0026#39;BBB\u0026#39;,222); INSERT INTO tab1 VALUES(\u0026#39;BBB\u0026#39;,333); INSERT INTO tab1 VALUES(\u0026#39;BBB\u0026#39;,444); INSERT INTO tab1 VALUES(\u0026#39;CCC\u0026#39;,111); INSERT INTO tab1 VALUES(\u0026#39;CCC\u0026#39;,222); INSERT INTO tab1 VALUES(\u0026#39;CCC\u0026#39;,333); INSERT INTO tab1 VALUES(\u0026#39;CCC\u0026#39;,444); Let’s start some fun and check how my dump from Oracle DB looks like. First of all, I need to find the block where the table is stored:\nSELECT segment_name,header_file, header_block+1 FROM dba_segments WHERE segment_name = \u0026#39;TAB1\u0026#39;; Create a dump from the selected block: alter system dump datafile 1 block 102161;\nNow I have to run the console, ssh into the remote system and check last files in Oracle directory: cd /u01/app/oracle/diag/rdbms/orcl12c/orcl12c/trace find $1 -type f -exec stat --format \u0026#39;%Y :%y %n\u0026#39; \u0026#34;{}\u0026#34; \\; | sort -nr | cut -d: -f2- | head # cat orcl12c_ora_10640.trc Section of my dump looks like below: block_row_dump: tab 0, row 0, @0x1f95 tl: 11 fb: --H-FL-- lb: 0x1 cc: 2 col 0: [ 3] 41 41 41 col 1: [ 3] c2 02 0c tab 0, row 1, @0x1f8a tl: 11 fb: --H-FL-- lb: 0x1 cc: 2 col 0: [ 3] 41 41 41 col 1: [ 3] c2 03 17 tab 0, row 2, @0x1f7f tl: 11 fb: --H-FL-- lb: 0x1 cc: 2 col 0: [ 3] 41 41 41 col 1: [ 3] c2 04 22 tab 0, row 3, @0x1f74 tl: 11 fb: --H-FL-- lb: 0x1 cc: 2 col 0: [ 3] 41 41 41 col 1: [ 3] c2 05 2d tab 0, row 4, @0x1f69 tl: 11 fb: --H-FL-- lb: 0x1 cc: 2 col 0: [ 3] 42 42 42 col 1: [ 3] c2 02 0c tab 0, row 5, @0x1f5e tl: 11 fb: --H-FL-- lb: 0x1 cc: 2 col 0: [ 3] 42 42 42 col 1: [ 3] c2 03 17 tab 0, row 6, @0x1f53 tl: 11 fb: --H-FL-- lb: 0x1 cc: 2 col 0: [ 3] 42 42 42 col 1: [ 3] c2 04 22 tab 0, row 7, @0x1f48 tl: 11 fb: --H-FL-- lb: 0x1 cc: 2 col 0: [ 3] 42 42 42 col 1: [ 3] c2 05 2d tab 0, row 8, @0x1f3d tl: 11 fb: --H-FL-- lb: 0x1 cc: 2 col 0: [ 3] 43 43 43 col 1: [ 3] c2 02 0c tab 0, row 9, @0x1f32 tl: 11 fb: --H-FL-- lb: 0x1 cc: 2 col 0: [ 3] 43 43 43 col 1: [ 3] c2 03 17 tab 0, row 10, @0x1f27 tl: 11 fb: --H-FL-- lb: 0x1 cc: 2 col 0: [ 3] 43 43 43 col 1: [ 3] c2 04 22 tab 0, row 11, @0x1f1c tl: 11 fb: --H-FL-- lb: 0x1 cc: 2 col 0: [ 3] 43 43 43 col 1: [ 3] c2 05 2d end_of_block_dump If we look closer at block_row_dump, you will see some repeatability. Let’s check what is the meaning of lines with c2 at the start.\nTo achieve this, we can just execute SQL statement below: var n number; exec dbms_stats.convert_raw_value(\u0026#39;c2020c\u0026#39;,:n); print and a result of this statement is:\nThe value of raw \u0026lsquo;c2 03 17′ is 222. You can check all these values and everything will look like our inserts at the beginning. To be more precise we are actually on \u0026ldquo;row\u0026rdquo; level of database storage:\nThat’s all for today, this is a basic knowledge related to database data save in tables. This knowledge is key to understanding how indexing or compression works on the database.\n","permalink":"https://pawelwiejkut.dev/posts/how-oracle-store-data/","summary":"All of you probably at least once in your life try to insert some records to a database table, but is anyone of you ever tried to understand how Oracle actually saves the entries in the database? Last time I was making a small experiment and I want to share my results with you.\nStep one, let\u0026rsquo;s build a small table and insert a few records:\nINSERT INTO tab1 VALUES(\u0026#39;AAA\u0026#39;,111); INSERT INTO tab1 VALUES(\u0026#39;AAA\u0026#39;,222); INSERT INTO tab1 VALUES(\u0026#39;AAA\u0026#39;,333); INSERT INTO tab1 VALUES(\u0026#39;AAA\u0026#39;,444); INSERT INTO tab1 VALUES(\u0026#39;BBB\u0026#39;,111); INSERT INTO tab1 VALUES(\u0026#39;BBB\u0026#39;,222); INSERT INTO tab1 VALUES(\u0026#39;BBB\u0026#39;,333); INSERT INTO tab1 VALUES(\u0026#39;BBB\u0026#39;,444); INSERT INTO tab1 VALUES(\u0026#39;CCC\u0026#39;,111); INSERT INTO tab1 VALUES(\u0026#39;CCC\u0026#39;,222); INSERT INTO tab1 VALUES(\u0026#39;CCC\u0026#39;,333); INSERT INTO tab1 VALUES(\u0026#39;CCC\u0026#39;,444); Let’s start some fun and check how my dump from Oracle DB looks like.","title":"How Oracle store your data"},{"content":"Today I want to show you a simple way to debug a batch job. Sometimes you just want to debug some process witch default runs in batch. Everything looks simple but you should notice that breakpoints sometimes don’t work in these cases. The situation can be even worst when your job runs only a few seconds.\nFirst of all if your job works for a short time, you just should keep him working for a while. To do this you just can create an infinitive loop. So just go to your code and in property place paste: data: lv_wait. while lv_wait \u0026lt;\u0026gt; 1. endwhile. Now go to transaction sm50, click on „ALL work process” and then select your process. Remember that your background process could run on one of many application servers Click on Administration-\u0026gt; Program -\u0026gt; Debugging. After confirming the pop-up you should see a debugger. ","permalink":"https://pawelwiejkut.dev/posts/debug-background/","summary":"Today I want to show you a simple way to debug a batch job. Sometimes you just want to debug some process witch default runs in batch. Everything looks simple but you should notice that breakpoints sometimes don’t work in these cases. The situation can be even worst when your job runs only a few seconds.\nFirst of all if your job works for a short time, you just should keep him working for a while.","title":"How to debug background/batch job in SAP ?"},{"content":"How to access transactions without an authorization? One big requirement to do this trick is having to debug and replace the function. Let’s start!\nI prepared myself, user, without authorization to the db02 transaction. When I want to run this transaction, I get a message: „You are not authorized to use transaction”\nGo to the SE37 transaction, and display function module: AUTH_CHECK_TCODE.\nNow seat a breakpoint on line 28, where sy-subrc is checked (in new versions line 53).\nOr Double click on the sy-subrc value, and change it to 0.\nPress F8, to continue the program. Now transactions should start normally.\n","permalink":"https://pawelwiejkut.dev/posts/access-tcode-no-auth/","summary":"How to access transactions without an authorization? One big requirement to do this trick is having to debug and replace the function. Let’s start!\nI prepared myself, user, without authorization to the db02 transaction. When I want to run this transaction, I get a message: „You are not authorized to use transaction”\nGo to the SE37 transaction, and display function module: AUTH_CHECK_TCODE.\nNow seat a breakpoint on line 28, where sy-subrc is checked (in new versions line 53).","title":"Access transaction without auth"},{"content":"Dzisiejsza instrukcja będzie nieco krótsza i dotyczyć będzie rozszerzenia naszego poprzedniego programu z tego wpisu o klika linijek kodu odpowiedzialnych za stworzenie ekranu. Nasz tworzony ekran będzie odpowiadał za umożliwienie nam wyboru wyników wyświetlanych w tabeli w zależności od numeru połączenia i numeru przewoźnika.\nJeżeli szukasz kompletnego kursu online abap od podstaw – zapraszam Cię do zapoznania się z ofertą: https://saponit.pl/kurs-abap/\nZaczynamy od skopiowania poprzedniego programu. Aby to zrobić, w transakcji se80 klikamy prawym przyciskiem myszy na nasz poprzedni program i klikamy na copy. W Source Target podajemy ZFSCREEN, a następnie potwierdzamy, następnie zaznaczamy wszystkie check’i i wybieramy swoją paczkę oraz transport. Następnie do kodu dopisujemy linijkę odpowiadającą za selection screen, oraz całość zapisujemy i aktywujemy. Kod powinien wyglądać tak jak poniżej: DATA: l_tab_sflight TYPE STANDARD TABLE OF sflight. \u0026#34;Tworzymy tabelę wewnętrzną SELECTION-SCREEN BEGIN OF BLOCK b1. PARAMETERS: p_conn TYPE sflight-connid, p_carr TYPE sflight-carrid. SELECTION-SCREEN END OF BLOCK b1. SELECT * FROM sflight INTO TABLE l_tab_sflight WHERE carrid EQ p_carr AND connid EQ p_conn. \u0026#34;Pobieramy dane z tabeli zewnętrzej do wewnętrznej CALL FUNCTION \u0026#39;REUSE_ALV_GRID_DISPLAY\u0026#39; \u0026#34;Wywołujemy funkcję odpowiedzialną za użycie tabeli EXPORTING i_structure_name = \u0026#39;SFLIGHT\u0026#39; \u0026#34;Nazwa struktury tabeli i_grid_title = \u0026#39;Moja pierwsza tabela\u0026#39; \u0026#34;Tytuł tabeli TABLES t_outtab = l_tab_sflight \u0026#34;Zmieniana tabela EXCEPTIONS \u0026#34;Wyjątki program_error = 1 OTHERS = 2. Uruchamiamy teraz program przy użyciu F8. Definitywnie widać,że coś poszło nie tak i nazwy nie są przypisane do parametrów więc wygląda to dość średnio. Cofamy się wiec z powrotem do poprzedniego ekranu przy użyciu klawisza F3. Wchodzimy teraz w Goto-\u0026gt; Text Elements-\u0026gt; Slection Text Następnie przypisujemy tekst do parametrów tak jak na screenshoocie poniżej Zapisujemy i aktywujemy program przy pomocy kombinacji klawiszy ctrl+s oraz ctrl+ f3. Następnie wracamy do poprzedniego ekranu poprzez naciśnięcie f3, i uruchamiamy program poprzez wybranie f8. Powinieneś zobaczyć ekran zbliżony do tego poniżej: Spróbuj teraz wybrać parametry z pierwszego pola, kliknij w nie i naciśnij f4. Z okna wybierz interesujący numer połączenia (pamiętaj, że nasze ekrany mogą się różnić ze względu na to że dane do tej tabeli są losowo generowane przez system). Uruchamiamy program poprzez f8. Teraz wyświetlone będą tylko te wyniki, które spełniają nasz warunek. ","permalink":"https://pawelwiejkut.dev/posts/ekran-wyboru/","summary":"Dzisiejsza instrukcja będzie nieco krótsza i dotyczyć będzie rozszerzenia naszego poprzedniego programu z tego wpisu o klika linijek kodu odpowiedzialnych za stworzenie ekranu. Nasz tworzony ekran będzie odpowiadał za umożliwienie nam wyboru wyników wyświetlanych w tabeli w zależności od numeru połączenia i numeru przewoźnika.\nJeżeli szukasz kompletnego kursu online abap od podstaw – zapraszam Cię do zapoznania się z ofertą: https://saponit.pl/kurs-abap/\nZaczynamy od skopiowania poprzedniego programu. Aby to zrobić, w transakcji se80 klikamy prawym przyciskiem myszy na nasz poprzedni program i klikamy na copy.","title":"Ekran Wyboru"},{"content":"Witajcie w kolejnej części kursu programowania w ABAPie. Dzisiaj pokarze po krotce jak stworzyć ALV GRID, czyli przekładając na język polski – tabelę. Ustawimy też od razu formatowanie kodu przy użyciu pretty printer.\nJeżeli szukasz kompletnego kursu online abap od podstaw – zapraszam Cię do zapoznania się z ofertą: https://saponit.pl/kurs-abap/\nWchodzimy w transakcję se38 odpowiedzialną za zarządzanie programami. Wpisujemy nazwę programu ZALVGRID i klikamy na „Create”. Wpisujemy opis i wybieramy typ programu jako „Executable program” Wybieramy stworzoną przez nas wcześniej paczkę programu i zapisujemy. Klikamy na Pattern. Przycisk ten jest odpowiedzialny za wywoływanie funkcji, metod itp. Wpisujemy nazwę funkcji: „REUSE_ALV_GRID_DISPLAY”. Aby skonfigurować funkcję Pretty Printer czyli formatowanie kodu, klikany na „Utilities” a następnie na „Settings”. Następnie ustawiamy opcje w zakładce „Abap editor” „Pretty printer” tak jak na ekranie poniżej. Wracamy do naszego programu, zmieniłam nieco funkcję usuwając niepotrzebne argumenty które nie będą wykorzystywane. W momencie kiedy będziesz pisać ten program spróbuj użyć skrótu klawiszowego alt + spacja, który jest odpowiedzialny za uzupełnianie i podpowiadanie. Spróbuj teraz sformatować kod programu. Służy do tego skrót klawiszowy shift + f1. GUI Zapewnia jeszcze jeden ważny feature, mianowicie możliwość sprawdzenia poprawności programu. Aby użyć tej funkcji należy kliknąć ikonę u góry bądź nacisnąć skrót klawiszowy ctrl+ F2. Końcowy program powinien wyglądać tak jak na ekranie poniżej. Następnie zapisujemy, aktywujemy i uruchamiamy program. *\u0026amp;---------------------------------------------------------------------* *\u0026amp; Report ZALVGRID *\u0026amp;---------------------------------------------------------------------* *\u0026amp; *\u0026amp;---------------------------------------------------------------------* REPORT zalvgrid. DATA: l_tab_sflight TYPE STANDARD TABLE OF sflight. \u0026#34;Tworzymy tabelę wewnętrzną SELECT * FROM sflight INTO TABLE l_tab_sflight. \u0026#34;Pobieramy dane z tabeli zewnętrzej do wewnętrznej CALL FUNCTION \u0026#39;REUSE_ALV_GRID_DISPLAY\u0026#39; \u0026#34;Wywołujemy funkcję odpowiedzialną za użycie tabeli EXPORTING i_structure_name = \u0026#39;SFLIGHT\u0026#39; \u0026#34;Nazwa struktury tabeli i_grid_title = \u0026#39;Moja pierwsza tabela\u0026#39; \u0026#34;Tytuł tabeli TABLES t_outtab = l_tab_sflight \u0026#34;Zmieniana tabela EXCEPTIONS \u0026#34;Wyjątki program_error = 1 OTHERS = 2. Końcowy efekt powinien wyglądać tak jak na zrzucie ekranu poniżej Gratulacje, właśnie napisałeś program który korzysta z modułu funcyjnego. Wiesz już też jak działa poprawianie czytelności kodu, sprawdzanie błędów, aktywacja, czy jego uruchamianie. W kolejnych poradnikach zajmiemy się modyfikacją tego pomysłu oraz jego rozbudowywaniem.\n","permalink":"https://pawelwiejkut.dev/posts/tworzymy-alv-grid/","summary":"Witajcie w kolejnej części kursu programowania w ABAPie. Dzisiaj pokarze po krotce jak stworzyć ALV GRID, czyli przekładając na język polski – tabelę. Ustawimy też od razu formatowanie kodu przy użyciu pretty printer.\nJeżeli szukasz kompletnego kursu online abap od podstaw – zapraszam Cię do zapoznania się z ofertą: https://saponit.pl/kurs-abap/\nWchodzimy w transakcję se38 odpowiedzialną za zarządzanie programami. Wpisujemy nazwę programu ZALVGRID i klikamy na „Create”. Wpisujemy opis i wybieramy typ programu jako „Executable program” Wybieramy stworzoną przez nas wcześniej paczkę programu i zapisujemy.","title":"Tworzymy ALV Grid"},{"content":"Witajcie w kolejnym poradniku dotyczącym SAPa na blogu. Dzisiejszy wpis będzie dotyczyć uzupełnienia tabel przykładowymi danymi oraz napisania prostego programu w ABAPie, zapraszam do lektury 🙂\nJeżeli szukasz kompletnego kursu online abap od podstaw – zapraszam Cię do zapoznania się z ofertą: https://saponit.pl/kurs-abap/ Uruchamiamy naszą instalację. Pamiętaj o tym że po uruchomieniu maszyny wirtualnej, trzeba jeszcze zalogować się na odpowiedniego użytkownika i uruchomić odpowiednie procesy. Opis tego jak to zrobić możesz sprawdzić w jednym z poprzednich wpisów. Przechodzimy teraz do transakcji se38. Jest to transakcja odpowiedzialna za zarządzanie programami, nazywanymi też zamiennie w SAPie raportami. Po przejściu do transakcji w polu „Program” wpisujemy SAPBC_DATA_GENERATOR . Jest to nazwa programu odpowiedzialnego za wypełnienie przykładowych tabel danymi na których można później swobodnie operować . Następnie uruchamiamy program poprzez kliknięcie ikonki Execute (skrót klawiszowy F8). Wybieramy opcję „Standard data record”, a następnie klikamy znów execute. Potwierdzamy komunikat o nadpisywaniu danych w tabeli (te tabele aktualnie i tak są puste). Żeby sprawdzić czy dane w tabeli naprawdę istnieją, przechodzimy do transakcji se16. Aby uruchomić transakcję będąc w innej, należy poprzedzić kod transakcji „/n”. Zwróć uwagę że program wypełnił 3 tabele: SPFLI,SFLIGHT i SBOOK. W tym SPFLI ma 26 rekordów. Wpisujemy nazwę tabeli którą chcemy sprawdzić i naciskamy enter. Żeby sprawdzić liczbę rekordów należy nacisnąć klawisz Number of Enteries. Można też sprawdzić zawartość tabeli przez kliknięcie execute. Po kinięciu na number of enteries, wyświetlony zostanie komunikat. Przechodzimy teraz do transakcji se80, która jest wspólną transakcją do tworzenia oprogramowania w SAPie. Wchodzimy teraz w program utworzony w poprzednim kroku, i włączamy edycję poprzez naciśnięcie zaznaczonej ikonki. W prawej stronie ekranu wpisujemy kod odpowiedzialny za wyświetlenie Hello World. Następnie zapisujemy, aktywujemy i uruchamiamy program. Wynik działania programu powinien być taki jak przedstawiono na ekranie poniżej. Wracamy teraz do naszego programu i zmieniamy jego zawartość, tak żeby wykorzystać dane z tabel, które wcześniej uzupełniliśmy. *\u0026amp;---------------------------------------------------------------------* *\u0026amp; Report ZHELLOWORLD *\u0026amp;---------------------------------------------------------------------* *\u0026amp; *\u0026amp;---------------------------------------------------------------------* REPORT zhelloworld. DATA: \u0026#34;Deklaracje typów g_tab_spfli TYPE TABLE OF spfli, \u0026#34;Deklaracja tabeli lokalnej g_str_spfli TYPE spfli. \u0026#34;Deklaracja struktury (pojedyńczego rekordu tabeli) SELECT * FROM spfli INTO CORRESPONDING FIELDS OF TABLE g_tab_spfli. \u0026#34;Pobranie danych z głownej tabeli LOOP AT g_tab_spfli INTO g_str_spfli. \u0026#34;Pętla wybierająca dane do struktury WRITE:/ g_str_spfli-countryfr,\u0026#39;-\u0026#39;,g_str_spfli-countryto. \u0026#34;Wypisywanie danych na ekran ENDLOOP. \u0026#34;Koniec pętli WRITE:/ \u0026#39;Hello World\u0026#39;. Wynik działania naszego programu powinien wyglądać tak jak na obrazku poniżej.\nPrawdopodobnie na twoim ekranie widoczne będą inne wyniki, jest to spowodowane tym że dane są randomowo generowane do tabeli. Jeżeli twój efekt końcowy jest zbliżony do tego na ostatnim screenschocie to gratuluję ! Napisałeś właśnie pierwszy program w ABAPie. ","permalink":"https://pawelwiejkut.dev/posts/hello-world-w-abapie/","summary":"Witajcie w kolejnym poradniku dotyczącym SAPa na blogu. Dzisiejszy wpis będzie dotyczyć uzupełnienia tabel przykładowymi danymi oraz napisania prostego programu w ABAPie, zapraszam do lektury 🙂\nJeżeli szukasz kompletnego kursu online abap od podstaw – zapraszam Cię do zapoznania się z ofertą: https://saponit.pl/kurs-abap/ Uruchamiamy naszą instalację. Pamiętaj o tym że po uruchomieniu maszyny wirtualnej, trzeba jeszcze zalogować się na odpowiedniego użytkownika i uruchomić odpowiednie procesy. Opis tego jak to zrobić możesz sprawdzić w jednym z poprzednich wpisów.","title":"Hello World W ABAPie"},{"content":"Hej!\nW 2017 roku napisałem tutorial „Jak zainstalować SAPa żeby nauczyć się ABAPa” przez dwa lata wyświetliliście ten artykuł blisko 10 tysięcy razy ! Równocześnie z wpisem na blogu powstał też film na youtube który zbliża się już do 100 tys wyświetleń.Te liczby mówią same za siebie, dlatego postanowiłem całą serię przedłużyć i pokazać wam więcej.\nChcesz nauczyć się programować w języku ABAP ? A może chciałbyś lepiej zrozumieć w jaki sposób działają procesy w rozwiązaniach opartych na platformie NetVeawer ? Jeśli tak to to miejsce jest dla Ciebie! Lista poniżej będzie stopniowo rozbudowywana o coraz to nowsze artykuły które pozwolą Ci zdobyć niezbędną techniczną wiedzę do programowania aplikacji w ABAPie.\nJak zainstalować SAPa żeby nauczyć się ABAPa ? Aktywacja SAP NetVeawer Hello World w ABAPie Tworzymy proste ALV Grid Pierwszy ekran wyboru Ballog, czyli logowanie danych w ABAPie Operacje na plikach Joby w ABAPie ","permalink":"https://pawelwiejkut.dev/abap-od-podstaw/","summary":"Hej!\nW 2017 roku napisałem tutorial „Jak zainstalować SAPa żeby nauczyć się ABAPa” przez dwa lata wyświetliliście ten artykuł blisko 10 tysięcy razy ! Równocześnie z wpisem na blogu powstał też film na youtube który zbliża się już do 100 tys wyświetleń.Te liczby mówią same za siebie, dlatego postanowiłem całą serię przedłużyć i pokazać wam więcej.\nChcesz nauczyć się programować w języku ABAP ? A może chciałbyś lepiej zrozumieć w jaki sposób działają procesy w rozwiązaniach opartych na platformie NetVeawer ?","title":"ABAP od podstaw"},{"content":"Kiedy mamy już zainstalowanego SAP NetWeavera, należy aktywować naszą instalację SAP. Proces ten jest o wiele łatwiejszy niż instalacja, wymaga jednak pewnego oswojenia z interfejsem. Aktywacja instalacji jest niezbędna aby można było tworzyć programy w ABAPie. Przejdźmy do rzeczy. Od jakiegoś czasu tworzę kurs online poświęcony właśnie pogramowaniu w ABAPie, jeżeli jesteś zainteresowany, sprawdź proszę kursy.saponit.pl Logujemy się do systemu i wchodzimy w transakcję SLICENSE. Kopiujemy active hardware key. Przechodzimy na stronę https://go.support.sap.com/minisap/ , wybieramy NPL i klikamy Generate. Krok ten dobrze jest wykonać w przeglądarce Internet Exploler. Po zapisaniu wygenerowanego pliku, wracamy do transakcji SLICENSE gdzie klikamy na Install. Po zakończeniu procesu nasz numer instalacji powinien zostać zmieniony na DEMOSYSTEM. Teraz należy wpisać Acces Key, aby to zrobić stworzymy od razu paczkę w której możemy następnie umieszczać swoje programy. W tym celu przechodzimy do transakcji se80. Żeby stworzyć paczkę, należy w wpisać jej nazwę zaczynającą się od Z albo Y, następnie nacisnąć enter. Uzupełniamy wymagane pola Następnie klikamy prawym klawiszem myszy na paczce i wybieramy Create -\u0026gt; Program. Uzupełniamy nazwę programu. Następnie przechodzimy do folderu z rozpakowanymi plikami i otwieramy plik readme.html, skąd kopiujemy klucz. Na końcu wklejamy klucz do SAPA i klikamy Continue Potwierdzamy utworzenie programu poprzez kliknięcie save Na końcu klikamy na ikonę dyskietki Gotowe ! System jest teraz w pełni aktywny i gotowy do działania. ","permalink":"https://pawelwiejkut.dev/posts/aktywacja-netveawer/","summary":"Kiedy mamy już zainstalowanego SAP NetWeavera, należy aktywować naszą instalację SAP. Proces ten jest o wiele łatwiejszy niż instalacja, wymaga jednak pewnego oswojenia z interfejsem. Aktywacja instalacji jest niezbędna aby można było tworzyć programy w ABAPie. Przejdźmy do rzeczy. Od jakiegoś czasu tworzę kurs online poświęcony właśnie pogramowaniu w ABAPie, jeżeli jesteś zainteresowany, sprawdź proszę kursy.saponit.pl Logujemy się do systemu i wchodzimy w transakcję SLICENSE. Kopiujemy active hardware key. Przechodzimy na stronę https://go.","title":"Aktywacja SAP Netveawer 7.5"}]