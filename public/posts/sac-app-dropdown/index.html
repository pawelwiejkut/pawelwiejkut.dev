<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Create and fill a dropdown in SAC APP | Pawel Wiejkut</title>
<meta name="keywords" content="SAC, Dropdown, JavaScript, SACApp" />
<meta name="description" content="Firstly we have to move our table a few lines down. This can be done by moving the mouse between the table and toolbar and drag and dropping when the cursor changes the icon: Click on the plus icon on the toolbar Select Dropdown form the list Lets rename the Table by click on tree dots -&gt; Rename, and set new name to Table_Games_Sales Same with Dropdown, and put new name Dropdown_Name">
<meta name="author" content="">
<link rel="canonical" href="https://pawelwiejkut.dev/posts/sac-app-dropdown/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.ac4bcbb73df0e6ab1ca259fb2803b8b2c1dd02cbb6ad0840029b799f5c5360ba.css" integrity="sha256-rEvLtz3w5qscoln7KAO4ssHdAsu2rQhAApt5n1xTYLo=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.2840b7fccd34145847db71a290569594bdbdb00047097f75d6495d162f5d7dff.js" integrity="sha256-KEC3/M00FFhH23GikFaVlL29sABHCX911kldFi9dff8="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://pawelwiejkut.dev/profile.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://pawelwiejkut.dev/profile.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://pawelwiejkut.dev/profile.png">
<link rel="apple-touch-icon" href="https://pawelwiejkut.dev/profile.png">
<link rel="mask-icon" href="https://pawelwiejkut.dev/profile.png">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.100.1" />
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-3R9CLWGY39"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-3R9CLWGY39', { 'anonymize_ip': false });
}
</script>
<meta property="og:title" content="Create and fill a dropdown in SAC APP" />
<meta property="og:description" content="Firstly we have to move our table a few lines down. This can be done by moving the mouse between the table and toolbar and drag and dropping when the cursor changes the icon: Click on the plus icon on the toolbar Select Dropdown form the list Lets rename the Table by click on tree dots -&gt; Rename, and set new name to Table_Games_Sales Same with Dropdown, and put new name Dropdown_Name" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://pawelwiejkut.dev/posts/sac-app-dropdown/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-12-12T14:13:53&#43;01:00" />
<meta property="article:modified_time" content="2021-12-12T14:13:53&#43;01:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Create and fill a dropdown in SAC APP"/>
<meta name="twitter:description" content="Firstly we have to move our table a few lines down. This can be done by moving the mouse between the table and toolbar and drag and dropping when the cursor changes the icon: Click on the plus icon on the toolbar Select Dropdown form the list Lets rename the Table by click on tree dots -&gt; Rename, and set new name to Table_Games_Sales Same with Dropdown, and put new name Dropdown_Name"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://pawelwiejkut.dev/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Create and fill a dropdown in SAC APP",
      "item": "https://pawelwiejkut.dev/posts/sac-app-dropdown/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Create and fill a dropdown in SAC APP",
  "name": "Create and fill a dropdown in SAC APP",
  "description": "Firstly we have to move our table a few lines down. This can be done by moving the mouse between the table and toolbar and drag and dropping when the cursor changes the icon: Click on the plus icon on the toolbar Select Dropdown form the list Lets rename the Table by click on tree dots -\u0026gt; Rename, and set new name to Table_Games_Sales Same with Dropdown, and put new name Dropdown_Name",
  "keywords": [
    "SAC", "Dropdown", "JavaScript", "SACApp"
  ],
  "articleBody": " Firstly we have to move our table a few lines down. This can be done by moving the mouse between the table and toolbar and drag and dropping when the cursor changes the icon: Click on the plus icon on the toolbar Select Dropdown form the list Lets rename the Table by click on tree dots -\u003e Rename, and set new name to Table_Games_Sales Same with Dropdown, and put new name Dropdown_Name\nFind the fx icon near to the Canvas in the left panel and click on onInitialization This will move us to the code editor where the party begins üíÉ üï∫ but no worries, JavaScript in the SAC is very developer-friendly and restricted. It is very easy to learn - and you can hear this from me, an ABAP fanboy. If you want to learn more about JS in SAC, please check out the handbook here (search for Developer Handbook)\nFirstly we have to create a variable which will hold the content from our table\nvar resultSet = Table_Games_Sales.getDataSource().getResultSet(); Then we have to loop by the resultSet and assign all Names into our dropdown for ( var i = 0; i\u003c resultSet.length; i++ ){\tDropdown_Name.addItem(resultSet[i][\"Name\"].id,resultSet[i][\"Name\"].description);\t} If you want to fill the dropdown by data not included into your table (Table_Games_Sales) you should use getMembers() var resultSet = Table_Games_Sales.getDataSource().getMembers(\"Name\"); for ( var i = 0; i\u003c resultSet.length; i++ ){\tDropdown_Name.addItem(resultSet[i].id,resultSet[i].description);\t}\nNevertheless in this example will will stay with getResultSet(), because Name is available in our table and according to the handbook this is better solution because of the performance Ate the end our code should look like this Now it is a time to save and run our app As you can see dropdown looks good, but it ends at ‚ÄúA‚Äù - this is because of the limitation. Our file contain much more games. Easies way to fix this is to create a additional filter on Publisher and make them cascading, but this will be described in the next post. Dropdown is filled, bu it is not working - not filtering any values in the table. To enable this, lest go back to the editor, and click on fx near to Dropdown_Name There is only one event - onSelect. In the code we need to get the selection from dropdown and set up a filter. Lets assign key to the new variable, and then use setDimentionFilter to put a filter. var selectedName = Dropdown_Name.getSelectedKey(); Table_Games_Sales.getDataSource().setDimensionFilter(\"Name\",selectedName); Please check your app. Dropdown Filter should work fine now. I have a bit different layout but no worries. I will explain how to do it step by step in my nex post. ",
  "wordCount" : "440",
  "inLanguage": "en",
  "datePublished": "2021-12-12T14:13:53+01:00",
  "dateModified": "2021-12-12T14:13:53+01:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://pawelwiejkut.dev/posts/sac-app-dropdown/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Pawel Wiejkut",
    "logo": {
      "@type": "ImageObject",
      "url": "https://pawelwiejkut.dev/profile.png"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://pawelwiejkut.dev/" accesskey="h" title="Pawel Wiejkut (Alt + H)">Pawel Wiejkut</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://pawelwiejkut.dev/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span><i class='fa fa-heart'></i>Search</span>
                </a>
            </li>
            <li>
                <a href="https://pawelwiejkut.dev/about-me/" title="About me">
                    <span>About me</span>
                </a>
            </li>
            <li>
                <a href="https://pawelwiejkut.dev/sac-tutorial/" title="SAC">
                    <span>SAC</span>
                </a>
            </li>
            <li>
                <a href="https://pawelwiejkut.dev/abap-od-podstaw/" title="ABAP od postaw üáµüá± ">
                    <span>ABAP od postaw üáµüá± </span>
                </a>
            </li>
            <li>
                <a href="https://pawelwiejkut.dev/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://pawelwiejkut.dev/posts/" title="Posts">
                    <span>Posts</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      Create and fill a dropdown in SAC APP
    </h1>
    <div class="post-meta"><span title='2021-12-12 14:13:53 +0100 CET'>December 12, 2021</span>&nbsp;¬∑&nbsp;3 min&nbsp;|&nbsp;<a href="https://github.com/pawelwiejkut/pawelwiejkut.dev/tree/main/content/posts/sac-app-dropdown.md" rel="noopener noreferrer" target="_blank">Suggest Changes</a>

</div>
  </header> 
  <div class="post-content"><ol>
<li>
<p>Firstly we have to move our table a few lines down. This can be done by moving the mouse between the table and toolbar and drag and dropping when the cursor changes the icon:
<figure class="align-center ">
    <img loading="lazy" src="/sac_app_dropdown/1.png#center" width="80%"/> 
</figure>
</p>
</li>
<li>
<p>Click on the plus icon on the toolbar
<figure class="align-center ">
    <img loading="lazy" src="/sac_app_dropdown/2.png#center" width="80%"/> 
</figure>
</p>
</li>
<li>
<p>Select Dropdown form the list
<figure class="align-center ">
    <img loading="lazy" src="/sac_app_dropdown/3.png#center" width="80%"/> 
</figure>
</p>
</li>
<li>
<p>Lets rename the Table by click on tree dots -&gt; Rename, and set new name to Table_Games_Sales
<figure class="align-center ">
    <img loading="lazy" src="/sac_app_dropdown/5.png#center" width="80%"/> 
</figure>
</p>
</li>
<li>
<p>Same with Dropdown, and put new name Dropdown_Name</p>
</li>
</ol>
<figure class="align-center ">
    <img loading="lazy" src="/sac_app_dropdown/6.png#center" width="80%"/> 
</figure>

<ol start="5">
<li>
<p>Find the fx icon near to the Canvas in the left panel and click on onInitialization
<figure class="align-center ">
    <img loading="lazy" src="/sac_app_dropdown/4.png#center" width="80%"/> 
</figure>
</p>
</li>
<li>
<p>This will move us to the code editor where the party begins üíÉ üï∫ but no worries, JavaScript in the SAC is very developer-friendly and restricted. It is very easy to learn - and you can hear this from me, an ABAP fanboy. If you want to learn more about JS in SAC, please check out the handbook <a href="https://community.sap.com/topics/cloud-analytics/analytic-applications-api">here</a> (search for Developer Handbook)</p>
</li>
<li>
<p>Firstly we have to create a variable which will hold the content from our table</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">resultSet</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Table_Games_Sales</span>.<span style="color:#a6e22e">getDataSource</span>().<span style="color:#a6e22e">getResultSet</span>();</span></span></code></pre></div>
<ol start="8">
<li>Then we have to loop by the resultSet and assign all Names into our dropdown</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> ( <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">resultSet</span>.<span style="color:#a6e22e">length</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span> ){		
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">Dropdown_Name</span>.<span style="color:#a6e22e">addItem</span>(<span style="color:#a6e22e">resultSet</span>[<span style="color:#a6e22e">i</span>][<span style="color:#e6db74">&#34;Name&#34;</span>].<span style="color:#a6e22e">id</span>,<span style="color:#a6e22e">resultSet</span>[<span style="color:#a6e22e">i</span>][<span style="color:#e6db74">&#34;Name&#34;</span>].<span style="color:#a6e22e">description</span>);		
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p><mark>If you want to fill the dropdown by data not included into your table (Table_Games_Sales) you should use getMembers()</mark>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">resultSet</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Table_Games_Sales</span>.<span style="color:#a6e22e">getDataSource</span>().<span style="color:#a6e22e">getMembers</span>(<span style="color:#e6db74">&#34;Name&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> ( <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">resultSet</span>.<span style="color:#a6e22e">length</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span> ){		
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">Dropdown_Name</span>.<span style="color:#a6e22e">addItem</span>(<span style="color:#a6e22e">resultSet</span>[<span style="color:#a6e22e">i</span>].<span style="color:#a6e22e">id</span>,<span style="color:#a6e22e">resultSet</span>[<span style="color:#a6e22e">i</span>].<span style="color:#a6e22e">description</span>);		
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></p>
<p>Nevertheless in this example will will stay with getResultSet(), because Name is available in our table and according to the <a href="https://d.dam.sap.com/a/3Y16uka/SAPAnalyticsCloud_AnalyticsDesigner_DeveloperHandbook.pdf">handbook</a> this is better solution because of the performance
<figure class="align-center ">
    <img loading="lazy" src="/sac_app_dropdown/11.png#center" width="80%"/> 
</figure>
</p>
<ol start="9">
<li>
<p>Ate the end our code should look like this
<figure class="align-center ">
    <img loading="lazy" src="/sac_app_dropdown/7.png#center" width="80%"/> 
</figure>
</p>
</li>
<li>
<p>Now it is a time to save and run our app
<figure class="align-center ">
    <img loading="lazy" src="/sac_app_dropdown/8.png#center" width="80%"/> 
</figure>
</p>
</li>
<li>
<p>As you can see dropdown looks good, but it ends at &ldquo;A&rdquo; - this is because of the limitation. Our file contain much more games.
<figure class="align-center ">
    <img loading="lazy" src="/sac_app_dropdown/9.png#center" width="80%"/> 
</figure>
</p>
</li>
</ol>
<p>Easies way to fix this is to create a additional filter on Publisher and make them cascading, but this will be described in the next post. </br></p>
<ol start="12">
<li>Dropdown is filled, bu it is not working - not filtering any values in the table. To enable this, lest go back to the editor, and click on fx near to Dropdown_Name</li>
</ol>
<figure class="align-center ">
    <img loading="lazy" src="/sac_app_dropdown/10.png#center" width="80%"/> 
</figure>

<ol start="13">
<li>There is only one event - onSelect. In the code we need to get the selection from dropdown and set up a filter. Lets assign key to the new variable, and then use setDimentionFilter to put a filter.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">selectedName</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Dropdown_Name</span>.<span style="color:#a6e22e">getSelectedKey</span>();
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Table_Games_Sales</span>.<span style="color:#a6e22e">getDataSource</span>().<span style="color:#a6e22e">setDimensionFilter</span>(<span style="color:#e6db74">&#34;Name&#34;</span>,<span style="color:#a6e22e">selectedName</span>);</span></span></code></pre></div>
<figure class="align-center ">
    <img loading="lazy" src="/sac_app_dropdown/12.png#center" width="80%"/> 
</figure>

<ol start="14">
<li>Please check your app. Dropdown Filter should work fine now. I have a bit different layout but no worries. I will explain how to do it step by step in my nex post.</li>
</ol>
<figure class="align-center ">
    <img loading="lazy" src="/sac_app_dropdown/13.gif#center" width="80%"/> 
</figure>



  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://pawelwiejkut.dev/tags/sac/">SAC</a></li>
      <li><a href="https://pawelwiejkut.dev/tags/dropdown/">Dropdown</a></li>
      <li><a href="https://pawelwiejkut.dev/tags/javascript/">JavaScript</a></li>
      <li><a href="https://pawelwiejkut.dev/tags/sacapp/">SACApp</a></li>
    </ul>
  </footer>
<link href="//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel="stylesheet" type="text/css">
<div id="mc_embed_signup">
<form action="https://pawelwiejkut.us19.list-manage.com/subscribe/post?u=ead4e0dc04f1f8c07403a39ac&amp;id=500c9c1881" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
	<label for="mce-EMAIL">Subscribe for newsletter:</label>
	<input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
    
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_ead4e0dc04f1f8c07403a39ac_500c9c1881" tabindex="-1" value=""></div>
    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
    </div>
</form>
</div>



<script src="https://utteranc.es/client.js"
        repo="pawelwiejkut/pawelwiejkut.dev"
        issue-term="pathname"
        label="comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>

</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="https://pawelwiejkut.dev/">Pawel Wiejkut</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a><script src="https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js" integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script>
const images = Array.from(document.querySelectorAll(".post-content img"));
images.forEach(img => {
  mediumZoom(img, {
    margin: 0,  
    scrollOffset: 40,  
    container: null,  
    template: null  
  });
});
</script>


<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
