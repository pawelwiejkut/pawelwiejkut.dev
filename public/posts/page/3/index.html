<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=56746&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Posts | Pawel Wiejkut</title>
<meta name="keywords" content="">
<meta name="description" content="Posts - Pawel Wiejkut">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:56746/posts/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css" integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:56746/profile.png">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:56746/profile.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:56746/profile.png">
<link rel="apple-touch-icon" href="http://localhost:56746/profile.png">
<link rel="mask-icon" href="http://localhost:56746/profile.png">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="http://localhost:56746/posts/index.xml">
<link rel="alternate" hreflang="en" href="http://localhost:56746/posts/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
  
    
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-3R9CLWGY39"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-3R9CLWGY39');
        }
      </script>
    
  

<meta property="og:title" content="Posts" />
<meta property="og:description" content="Paweł Wiejkut homepage. ABAP BW SAC HANA Tips &amp; Tricks 👨🏻‍💻" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://localhost:56746/posts/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Posts"/>
<meta name="twitter:description" content="Paweł Wiejkut homepage. ABAP BW SAC HANA Tips &amp; Tricks 👨🏻‍💻"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:56746/posts/"
    }
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:56746/" accesskey="h" title="Pawel Wiejkut (Alt + H)">Pawel Wiejkut</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:56746/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span><i class='fa fa-heart'></i>Search</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:56746/about-me/" title="About me">
                    <span>About me</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:56746/bw/" title="BW">
                    <span>BW</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:56746/sac-tutorial/" title="SAC">
                    <span>SAC</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:56746/abap-od-podstaw/" title="ABAP od postaw 🇵🇱 ">
                    <span>ABAP od postaw 🇵🇱 </span>
                </a>
            </li>
            <li>
                <a href="http://localhost:56746/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:56746/posts/" title="Posts">
                    <span class="active">Posts</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header">
  <h1>
    Posts
  </h1>
</header>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">How to install iOS apps on MacOs M1 (Monterey)
    </h2>
  </header>
  <div class="entry-content">
    <p>Is it still possible to install/sideload iOS apps into M1 Mac? The answer is yes - it is possible to even on the newest version of MacOS (Monterey 12.0.1).Nevertheless you have to know that not all applications are working well. For example, Instagram is crashing every time at startup, and you have to clear ~/Library/Containers/Instagram every time before launch.
How to install the iOS app?
Download and install sideloadly from https://sideloadly....</p>
  </div>
  <footer class="entry-footer"><span title='2021-12-07 08:25:49 +0100 CET'>December 7, 2021</span>&nbsp;·&nbsp;1 min</footer>
  <a class="entry-link" aria-label="post link to How to install iOS apps on MacOs M1 (Monterey)" href="http://localhost:56746/posts/ios-app-on-macos/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">How to contribute ABAP projects on Github
    </h2>
  </header>
  <div class="entry-content">
    <p>Last time, when I published my bw_toolbox project on Github, there were a lot of questions from regular developers not so much familiar with git, how they can contribute. Because of that, I decided to write this quick-start tutorial.
What do I need? – system requirements Connection with GitHub – your instance should be able to establish a connection with github.com, SSL Entires – you have to configure your SAP System by adding necessary certificates into STRUST transaction (details), Profile configuration – also changes on the profile level are required, so you have to manual edit entries or use transactions (details)....</p>
  </div>
  <footer class="entry-footer"><span title='2021-12-01 22:01:24 +0200 +0200'>December 1, 2021</span>&nbsp;·&nbsp;2 min</footer>
  <a class="entry-link" aria-label="post link to How to contribute ABAP projects on Github" href="http://localhost:56746/posts/how-to-contribute/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">How AMDP TRFN is executed
      <span class="entry-hint" title="Draft">
        <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" fill="currentColor">
          <path
            d="M160-410v-60h300v60H160Zm0-165v-60h470v60H160Zm0-165v-60h470v60H160Zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22q0 11-4.5 22.5T862.09-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z" />
        </svg>
      </span>
    </h2>
  </header>
  <div class="entry-content">
    <p>ADSO definition:
TRFN definition:
In general execution looks like: ABAP Method-&gt;Call SQL on HANA-&gt;Execute … -&gt; select
Step by step:
From ABAP site: cl_rstran_db_stat=&gt;execute_haap() is executed with SQL like: SELECT &#34;FIELD1&#34; AS &#34;FIELD1&#34; , &#34;0RECORDMODE&#34; AS &#34;RECORDMODE&#34; , &#34;RECORD&#34; AS &#34;RECORD&#34; FROM &#34;SAPA4H&#34;.&#34;/1BCAMDP/0BW:DAP:TR_04TFNXDAAVG5T5E8AZJ239HYT&#34; (&#39;PLACEHOLDER&#39;=(&#39;$$aggregation$$&#39;,&#39;&#34;BW_HAP__________DB_AGGREGATION&#34;=&#39;&#39;&#39;&#39;&#39;), &#39;PLACEHOLDER&#39;=(&#39;$$client$$&#39;,&#39;001&#39;), &#39;PLACEHOLDER&#39;=(&#39;$$keydate$$&#39;,&#39;20211110&#39;), &#39;PLACEHOLDER&#39;=(&#39;$$langu$$&#39;,&#39;E&#39;), &#39;PLACEHOLDER&#39;=(&#39;$$objvers$$&#39;,&#39;&#34;OBJVERS&#34; = &#39;&#39;A&#39;&#39;&#39;), &#39;PLACEHOLDER&#39;=(&#39;$$shift_decimal_places$$&#39;,&#39;&#34;BW_HAP__________SHIFT_DECIMAL_PLACES&#34;=&#39;&#39;I&#39;&#39;&#39;), &#39;PLACEHOLDER&#39;=(&#39;TR_04TFNXDAAVG5T5E8AZJ239HYT.$$adso_dtp_extraction_mode$$&#39;,&#39;&#34;_IS_FULL_KEY&#34; = 1 AND ( (&#34;1TECHPROV_KEY&#34; = &#39;&#39;ZAMDP$C&#39;&#39; OR &#34;1TECHPROV_KEY&#34; = &#39;&#39;ZAMDP&#39;&#39; ) )&#39;), &#39;PLACEHOLDER&#39;=(&#39;TR_04TFNXDAAVG5T5E8AZJ239HYT.$$runid$$&#39;,&#39;&#34;BW_HAP__________RUNID&#34;=&#39;&#39;96SBW6PMF5XU9CAGGGHRMDRSY&#39;&#39; AND &#34;BW_HAP__________HAP_SEQ_NUMBER&#34;=&#39;&#39;0&#39;&#39;&#39;),&#39;PLACEHOLDER&#39; = (&#39;ce_settings&#39;, &#39;{&#34;enable_partitioned_execution&#34;: &#34;0&#34;, &#34;ceqo_enable_rownum_expr_general&#34;: &#34;1&#34;}&#39;) ) WITH HINT ( ROUTE_BY_CARDINALITY(&#34;/BIC/AZAMDP2&#34;) ) This is a</p>
  </div>
  <footer class="entry-footer"><span title='2021-11-11 22:58:24 +0200 +0200'>November 11, 2021</span>&nbsp;·&nbsp;1 min</footer>
  <a class="entry-link" aria-label="post link to How AMDP TRFN is executed" href="http://localhost:56746/posts/how-amdp-is-executed/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Call SAP HANA function with table
    </h2>
  </header>
  <div class="entry-content">
    <p>How to run the HANA SQL function where an output table is required? Example function (from this tutorial): CREATE TYPE &#34;TT_RESTAURANTS&#34; AS TABLE (&#34;node_id&#34; INTEGER, &#34;distance&#34; INTEGER, &#34;hops&#34; BIGINT); CREATE OR REPLACE PROCEDURE &#34;NEAREST_RESTAURANT&#34;(IN startV INT, OUT res &#34;TT_RESTAURANTS&#34;) LANGUAGE GRAPH READS SQL DATA AS BEGIN GRAPH g = Graph(&#34;SKIING&#34;); VERTEX v_s = Vertex(:g, :startV); MULTISET&lt;Vertex&gt; rests = v IN Vertices(:g) WHERE :v.&#34;restaurant&#34; == N&#39;TRUE&#39;; ALTER g ADD TEMPORARY VERTEX ATTRIBUTE (INT &#34;distance&#34; = 0); ALTER g ADD TEMPORARY VERTEX ATTRIBUTE (BIGINT &#34;hops&#34; = 0L); FOREACH rest in :rests { VERTEX v_rest = Vertex(:g, :rest....</p>
  </div>
  <footer class="entry-footer"><span title='2021-11-11 11:44:24 +0200 +0200'>November 11, 2021</span>&nbsp;·&nbsp;1 min</footer>
  <a class="entry-link" aria-label="post link to Call SAP HANA function with table" href="http://localhost:56746/posts/call-function-table/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">How to install ABAP 1909 on mac M1
    </h2>
  </header>
  <div class="entry-content">
    <p>How to run ABAP 1909 on MacOs with M1? For me, the best idea was to use UTM. I also tried before with docker without success - in the end, there was always an error.
Install UTM
Download Ubuntu Server x64 bit version
Create virtual machine on UTM (220 GB storage, 6-7 CPU’s, additional flags) Install Ubuntu server on UTM
Install docker sudo apt-get update sudo apt-get install \ ca-certificates \ curl \ gnupg \ lsb-release curl -fsSL https://download....</p>
  </div>
  <footer class="entry-footer"><span title='2021-11-10 20:44:24 +0200 +0200'>November 10, 2021</span>&nbsp;·&nbsp;1 min</footer>
  <a class="entry-link" aria-label="post link to How to install ABAP 1909 on mac M1" href="http://localhost:56746/posts/abap1909-dev-m1/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">BW important programs / Function modules / Tables 
    </h2>
  </header>
  <div class="entry-content">
    <p>Almost all of these programs are included in my GitHub development “bw_toolbox”. If you want, you can just implement this in an easy way to your system. Please check by clicking here.
Activate: Name Category Type Description RSDG_TRFN_ACTIVATE TRFN PROG Activate transformations on the system. If you are missing fields in source or target - then it will not work correctly. RSDS_DATASOURCE_ACTIVATE_ALL RSDS PROG Activate data source RSBKDTPREPAIR DTP PROG Activate data transfer process RSDG_HCPR_ACTIVATE HCPR PROG Activate composite provider RSDG_CUBE_ACTIVATE CUBE PROG Activate cube RSDG_ADSO_ACTIVATE ADSO PROG Activate Advanced DataStore Object RSDG_IOBJ_ACTIVATE IOBJ PROG Activate InfoObject Maintenance: Name Category Type Description RSDG_AFTER_IMPORT_FOR_CORR N/A PROG Reimport transport RSBM_GUI_CHANGE_USTATE DTP FM Change DTP request status RSPM_PROCESS_MONITOR DTP PROG Change DTP request status ADSO RSPC_VARIANT_DELETE RSPC FM Delete process chain variant RSPC_API_CHAIN_START RSPC FM Start process chain immediately ( even scheduled ) DB_DROP_TABLE DEST PROG Drop tables under the OpenHub RSDG_IOBJ_REORG IOBJ PROG Repair Infoobject RSPC_PROCESS_FINISH RSPC PROG Process chain variant status change BAPI_USER_UNLOCK N/A FM Unlock user BW4 GUI Versions Description Name Type DTP View rsbk0001 PROG TRFN View rstran_gui_start PROG DataSource View rsds Transaction Infoprovider View (display data) rsoadso Transaction Manage Request rsmng Transaction Tables Description Name Check iobj assigned to extractor field RSTSFIELD RSOFIELSMAP Keyfigures basic info RSDKYF Characteristics basic info RSDCHABAS Extractor metadata including custom (fields) RSDSSEGFD Query Repo (UUID from name) RSZCOMPDIR Authorization Tables Description Name Role Defnition AGR_DEFINE Role user asigment ( S_RS_AUTH for BW RSECADMIN) AGR_1251 Maintenance View transport: SE54 &gt; Utilities &gt; Total Transport...</p>
  </div>
  <footer class="entry-footer"><span title='2021-11-04 11:15:20 +0100 CET'>November 4, 2021</span>&nbsp;·&nbsp;2 min</footer>
  <a class="entry-link" aria-label="post link to BW important programs / Function modules / Tables " href="http://localhost:56746/posts/bw-important-programs/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">AMDP ABAP Transformation execution
    </h2>
  </header>
  <div class="entry-content">
    <p>You may wonder how to execute AMDP TRFN directly via ABAP. It seems that the best idea is to use the method below:
cl_rstran_db_stat=&gt;execute_haap( EXPORTING i_processing_phase = lr_request-&gt;if_rsbk_request~get_stage( )-stage_id i_target_request = lr_request-&gt;if_rsbk_request~get_requid( ) i_dtp = lr_dtp-&gt;n_dtp i_t_trfn = lr_request-&gt;if_rsbk_request~get_t_transformation( i_only_she_relevant = rs_c_true ) i_r_log = lr_request-&gt;if_rsbk_request~get_log( ) i_simulation = lr_request-&gt;get_simulation( ) i_th_bp = lt_bp i_r_outbound = lr_outbound IMPORTING e_r_analysis_rt = DATA(lr_analysis) ). DATA(lr_segment_outbound) = lr_outbound-&gt;get_segment( i_segid = 001 ). Unfortunately you can’t put data into this method - it always reads it from the ADSO table and provides only the result....</p>
  </div>
  <footer class="entry-footer"><span title='2021-10-17 21:44:24 +0200 CEST'>October 17, 2021</span>&nbsp;·&nbsp;1 min</footer>
  <a class="entry-link" aria-label="post link to AMDP ABAP Transformation execution" href="http://localhost:56746/posts/amdp-abap-trfn/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Direct Update ADSO ABAP API
    </h2>
  </header>
  <div class="entry-content">
    <p>How to insert the data into the BW ADSO on the BW on Hana and BW4HANA ? The easy way is just to use the official function module delivered by SAP
Example ADSO: Example code:
REPORT zadsoamdp. DATA: lt_data TYPE STANDARD TABLE OF /bic/aadsoamdp2, lt_msg TYPE rs_t_msg. APPEND VALUE #( field1 = &#39;1&#39; field2 = &#39;2&#39; ) TO lt_data. CALL FUNCTION &#39;RSDSO_DU_WRITE_API&#39; EXPORTING i_adsonm = &#39;ADSOAMDP&#39; it_data = lt_data IMPORTING et_msg = lt_msg EXCEPTIONS write_failed = 1 datastore_not_found = 2 OTHERS = 3....</p>
  </div>
  <footer class="entry-footer"><span title='2021-10-17 19:35:53 +0200 CEST'>October 17, 2021</span>&nbsp;·&nbsp;1 min</footer>
  <a class="entry-link" aria-label="post link to Direct Update ADSO ABAP API" href="http://localhost:56746/posts/du-adso-api/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">SAP NPL 7.52 does not start
    </h2>
  </header>
  <div class="entry-content">
    <p>This time I will show you how to fix the issue with your SAP ABAP Developer instance which don’t want to start. This article is about the license issue, which has expired 1.04.2021. In this case, the command starts ALL, will stick on: The database is not available via R3trans ------------------------------------------- starting database NPL ... Log file: /sybase/NPL/startdb.log
Or Stop returns modlib.jslib.caughtException
We have to download a new license file from https://developers....</p>
  </div>
  <footer class="entry-footer"><span title='2021-04-02 22:01:24 +0200 CEST'>April 2, 2021</span>&nbsp;·&nbsp;1 min</footer>
  <a class="entry-link" aria-label="post link to SAP NPL 7.52 does not start" href="http://localhost:56746/posts/npl-wont-start/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Joby W ABAPie
    </h2>
  </header>
  <div class="entry-content">
    <p>Z tej lekcji dowiesz się jak działają joby w ABAPie. Napiszemy prosty program który bedzie odpowiedzialny za wstawienie danych do tabeli a następnie ustawimy go jako proces w tle. Dodatkowo opowiadam tez o tym czym są warianty, oraz jak je tworzyć. To wideo jest częścią płatnego kursu ABAP od podstaw, dostępnego na https://saponit.pl/kurs-abap</p>
  </div>
  <footer class="entry-footer"><span title='2021-01-23 18:25:44 +0100 CET'>January 23, 2021</span>&nbsp;·&nbsp;1 min</footer>
  <a class="entry-link" aria-label="post link to Joby W ABAPie" href="http://localhost:56746/posts/joby-w-abapie/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="http://localhost:56746/posts/page/2/">
      «&nbsp;Prev&nbsp;
    </a>
    <a class="next" href="http://localhost:56746/posts/page/4/">Next&nbsp;&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="http://localhost:56746/">Pawel Wiejkut</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
